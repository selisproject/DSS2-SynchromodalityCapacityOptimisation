// Copyright (c) CLMS. All rights reserved.
// Licensed under the AGPL-3.0 license. See LICENSE file in the project root for full license information.
// This source file was autogenerated by zAppDev(r).
using System;
using System.Collections.Generic;
using System.Linq;
using System.Runtime.Serialization;
using System.ServiceModel;
using System.Text;
using System.ServiceModel.Channels;
using System.Security.Permissions;
using System.Security.Principal;
using NHibernate;
using System.ServiceModel.Activation;
using zAppDev.DotNet.Framework.Utilities;
using zAppDev.DotNet.Framework.Data.Domain;
using DSS2_SynchromodalityCapacityOptimisation.Services.exportOFDetails.DataContracts;
using DSS2_SynchromodalityCapacityOptimisation.BO;
using AutoMapper;

namespace DSS2_SynchromodalityCapacityOptimisation.Services
{
    [AspNetCompatibilityRequirements(RequirementsMode = AspNetCompatibilityRequirementsMode.Required)]
    public class exportOFDetailsService : IexportOFDetailsService
    {
        public System.Collections.Generic.List<OrderForecastDetailsDTO> ExportOFDetails(string _RequestSourceIp, string _UserName)
        {
            InitializeMappers();
            try
            {
                var _exportOFDetails = ExportOFDetailsImplementation();
                var result = Mapper.Map<System.Collections.Generic.List<DSS2_SynchromodalityCapacityOptimisation.BO.OrderForecastDetails>, System.Collections.Generic.List<OrderForecastDetailsDTO>>(_exportOFDetails);
                return result;
            }
            catch (Exception @exception)
            {
                log4net.LogManager.GetLogger("exportOFDetails Service").Error(@exception);
                throw;
            }
        }


        private void InitializeMappers()
        {
            Mapper.CreateMap<OrderForecastDetailsDTO, DSS2_SynchromodalityCapacityOptimisation.BO.OrderForecastDetails>();
            Mapper.CreateMap<DSS2_SynchromodalityCapacityOptimisation.BO.OrderForecastDetails, OrderForecastDetailsDTO>();
            Mapper.CreateMap<ItemDTO, DSS2_SynchromodalityCapacityOptimisation.BO.Item>();
            Mapper.CreateMap<DSS2_SynchromodalityCapacityOptimisation.BO.Item, ItemDTO>();
        }

        public static System.Collections.Generic.List<DSS2_SynchromodalityCapacityOptimisation.BO.OrderForecastDetails> ExportOFDetailsImplementation()
        {
            return new DSS2_SynchromodalityCapacityOptimisation.DAL.Repository().GetAsQueryable<DSS2_SynchromodalityCapacityOptimisation.BO.OrderForecastDetails>()?.Take(500).ToList();
        }


    }
}