// Copyright (c) CLMS. All rights reserved.
// Licensed under the AGPL-3.0 license. See LICENSE file in the project root for full license information.
// This source file was autogenerated by zAppDev(r).
using System;
using System.Collections.Generic;
using System.Linq;
using System.Runtime.Serialization;
using System.ServiceModel;
using System.Text;
using System.ServiceModel.Channels;
using System.Security.Permissions;
using System.Security.Principal;
using NHibernate;
using System.ServiceModel.Activation;
using zAppDev.DotNet.Framework.Utilities;
using zAppDev.DotNet.Framework.Data.Domain;
using DSS2_SynchromodalityCapacityOptimisation.Services.OrderForecastService.DataContracts;
using DSS2_SynchromodalityCapacityOptimisation.BO;
using AutoMapper;

namespace DSS2_SynchromodalityCapacityOptimisation.Services
{
    [AspNetCompatibilityRequirements(RequirementsMode = AspNetCompatibilityRequirementsMode.Required)]
    public class OrderForecastServiceService : IOrderForecastServiceService
    {
        public System.Collections.Generic.List<OrderForecastDetailsDTO> CalculateForSKU(string _sku, string _RequestSourceIp, string _UserName)
        {
            InitializeMappers();
            try
            {
                var inputsku = _sku;
                var _calculateForSKU = CalculateForSKUImplementation(inputsku);
                var result = Mapper.Map<System.Collections.Generic.List<DSS2_SynchromodalityCapacityOptimisation.BO.OrderForecastDetails>, System.Collections.Generic.List<OrderForecastDetailsDTO>>(_calculateForSKU);
                return result;
            }
            catch (Exception @exception)
            {
                log4net.LogManager.GetLogger("OrderForecastService Service").Error(@exception);
                throw;
            }
        }


        private void InitializeMappers()
        {
            Mapper.CreateMap<OrderForecastDetailsDTO, DSS2_SynchromodalityCapacityOptimisation.BO.OrderForecastDetails>();
            Mapper.CreateMap<DSS2_SynchromodalityCapacityOptimisation.BO.OrderForecastDetails, OrderForecastDetailsDTO>();
            Mapper.CreateMap<WarehouseDTO, DSS2_SynchromodalityCapacityOptimisation.BO.Warehouse>();
            Mapper.CreateMap<DSS2_SynchromodalityCapacityOptimisation.BO.Warehouse, WarehouseDTO>();
            Mapper.CreateMap<ItemDTO, DSS2_SynchromodalityCapacityOptimisation.BO.Item>();
            Mapper.CreateMap<DSS2_SynchromodalityCapacityOptimisation.BO.Item, ItemDTO>();
            Mapper.CreateMap<SupplierDTO, DSS2_SynchromodalityCapacityOptimisation.BO.Supplier>();
            Mapper.CreateMap<DSS2_SynchromodalityCapacityOptimisation.BO.Supplier, SupplierDTO>();
            Mapper.CreateMap<BusinessUnitDTO, DSS2_SynchromodalityCapacityOptimisation.BO.BusinessUnit>();
            Mapper.CreateMap<DSS2_SynchromodalityCapacityOptimisation.BO.BusinessUnit, BusinessUnitDTO>();
            Mapper.CreateMap<CategoryDTO, DSS2_SynchromodalityCapacityOptimisation.BO.Category>();
            Mapper.CreateMap<DSS2_SynchromodalityCapacityOptimisation.BO.Category, CategoryDTO>();
            Mapper.CreateMap<SubCategoryDTO, DSS2_SynchromodalityCapacityOptimisation.BO.SubCategory>();
            Mapper.CreateMap<DSS2_SynchromodalityCapacityOptimisation.BO.SubCategory, SubCategoryDTO>();
            Mapper.CreateMap<BaseUnitDTO, DSS2_SynchromodalityCapacityOptimisation.BO.BaseUnit>();
            Mapper.CreateMap<DSS2_SynchromodalityCapacityOptimisation.BO.BaseUnit, BaseUnitDTO>();
        }

        public static System.Collections.Generic.List<DSS2_SynchromodalityCapacityOptimisation.BO.OrderForecastDetails> CalculateForSKUImplementation(string sku)
        {
            return new DSS2_SynchromodalityCapacityOptimisation.DAL.Repository().Get<DSS2_SynchromodalityCapacityOptimisation.BO.OrderForecastDetails>((a) => a.Item.SKU == sku);
        }


    }
}