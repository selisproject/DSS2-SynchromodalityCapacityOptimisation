
// Copyright (c) CLMS. All rights reserved.
// Licensed under the AGPL-3.0 license. See LICENSE file in the project root for full license information.
// This source file was autogenerated by zAppDev(r).

using System;
using System.Runtime.Serialization;
using System.Collections.Generic;
using System.ComponentModel;
using System.Linq;
using System.Reflection;
using System.Collections;
using zAppDev.DotNet.Framework.Utilities;
using zAppDev.DotNet.Framework.Configuration;
using zAppDev.DotNet.Framework.Data.Domain;

using DSS2_SynchromodalityCapacityOptimisation.DAL;

namespace DSS2_SynchromodalityCapacityOptimisation.BO
{
	/// <summary>
	/// The GPSLocation extensions
	/// </summary>
	public static class GPSLocationExtensions
	{
        public static void Publish(this BO.GPSLocation @this){using (new zAppDev.DotNet.Framework.Profiling.Profiler("GPSLocation", zAppDev.DotNet.Framework.Profiling.AppDevSymbolType.ClassOperation, "Publish")) {
zAppDev.DotNet.Framework.Utilities.Serializer<DSS2_SynchromodalityCapacityOptimisation.BO.GPSLocation> gps = new zAppDev.DotNet.Framework.Utilities.Serializer<DSS2_SynchromodalityCapacityOptimisation.BO.GPSLocation>();
string gpsjson = gps.ToJson(@this, false);
string base64gps = zAppDev.DotNet.Framework.Utilities.Common.Base64Encode(gpsjson);
System.Collections.Generic.List<DSS2_SynchromodalityCapacityOptimisation.BO.PubMessage> message = new System.Collections.Generic.List<DSS2_SynchromodalityCapacityOptimisation.BO.PubMessage>();
DSS2_SynchromodalityCapacityOptimisation.BO.PubMessage mes1 = new DSS2_SynchromodalityCapacityOptimisation.BO.PubMessage();
DSS2_SynchromodalityCapacityOptimisation.BO.PubMessage mes2 = new DSS2_SynchromodalityCapacityOptimisation.BO.PubMessage();
DSS2_SynchromodalityCapacityOptimisation.BO.PubMessage mes3 = new DSS2_SynchromodalityCapacityOptimisation.BO.PubMessage();
mes1.type = "string";mes1.val = "truck_location";mes1.key = "topic";mes2.type = "string";mes2.val = (@this?.truck_license_plate ?? "");mes2.key = "truck_location";mes3.type = "string";mes3.val = base64gps;mes3.key = "payload";message?.Add(mes1);
message?.Add(mes2);
message?.Add(mes3);
DSS2_SynchromodalityCapacityOptimisation.ExternalStructs.LocalPubSub.Publication publication = new DSS2_SynchromodalityCapacityOptimisation.ExternalStructs.LocalPubSub.Publication();
System.Collections.Generic.List<DSS2_SynchromodalityCapacityOptimisation.ExternalStructs.LocalPubSub.PubMessage> apisPubMessage = new System.Collections.Generic.List<DSS2_SynchromodalityCapacityOptimisation.ExternalStructs.LocalPubSub.PubMessage>();
foreach (var pubs in message ?? Enumerable.Empty<DSS2_SynchromodalityCapacityOptimisation.BO.PubMessage>()) {
DSS2_SynchromodalityCapacityOptimisation.ExternalStructs.LocalPubSub.PubMessage pubMessage = (new DSS2_SynchromodalityCapacityOptimisation.BO.PubMessageDataTransformation.Transformer()).PubMessage_To_PubMessage(pubs);
apisPubMessage.Add(pubMessage);
}
publication.publication = apisPubMessage.ToArray();DSS2_SynchromodalityCapacityOptimisation.BLL.ExternalRestServices.LocalPubSubRestService.Publish(publication);
}
}



        
	}
}
