
// Copyright (c) CLMS. All rights reserved.
// Licensed under the AGPL-3.0 license. See LICENSE file in the project root for full license information.
// This source file was autogenerated by zAppDev(r).

using System;
using System.Runtime.Serialization;
using System.Collections.Generic;
using System.ComponentModel;
using System.Linq;
using System.Reflection;
using System.Collections;
using zAppDev.DotNet.Framework.Utilities;
using zAppDev.DotNet.Framework.Configuration;
using zAppDev.DotNet.Framework.Data.Domain;

using DSS2_SynchromodalityCapacityOptimisation.DAL;

namespace DSS2_SynchromodalityCapacityOptimisation.BO
{
	/// <summary>
	/// The AppNotification extensions
	/// </summary>
	public static class AppNotificationExtensions
	{
        public static void CreateAppNotification(string itemSKU, int? delta, string recipientUsername, DSS2_SynchromodalityCapacityOptimisation.BO.OrderForecastDetails ofDetail){using (new zAppDev.DotNet.Framework.Profiling.Profiler("AppNotification", zAppDev.DotNet.Framework.Profiling.AppDevSymbolType.ClassOperation, "CreateAppNotification")) {
DSS2_SynchromodalityCapacityOptimisation.BO.Contact recipient = new DSS2_SynchromodalityCapacityOptimisation.BO.Contact();
try {
recipient =  new DSS2_SynchromodalityCapacityOptimisation.DAL.Repository().GetById<DSS2_SynchromodalityCapacityOptimisation.BO.Contact>(recipientUsername);}
catch (System.Exception x) {
zAppDev.DotNet.Framework.Utilities.DebugHelper.Log(zAppDev.DotNet.Framework.Utilities.DebugMessageType.Error, "AppNotification",  DSS2_SynchromodalityCapacityOptimisation.Hubs.EventsHub.RaiseDebugMessage, x);
return;
}
DSS2_SynchromodalityCapacityOptimisation.BO.AppNotification appNotification = new DSS2_SynchromodalityCapacityOptimisation.BO.AppNotification();
appNotification.Recipient = recipient;appNotification.Item = itemSKU;appNotification.Delta = delta;appNotification.IsRead = false;appNotification.DateCreated = DateTime.UtcNow;DSS2_SynchromodalityCapacityOptimisation.BO.AppNotificationAction appNotificationAction = new DSS2_SynchromodalityCapacityOptimisation.BO.AppNotificationAction();
appNotification?.AddAppNotificationActions(appNotificationAction);
new DSS2_SynchromodalityCapacityOptimisation.DAL.Repository().Save<DSS2_SynchromodalityCapacityOptimisation.BO.AppNotification>(appNotification);
DSS2_SynchromodalityCapacityOptimisation.Hubs.EventsHub.RaiseAppNotificationCreated();
}
}



        
	}
}
