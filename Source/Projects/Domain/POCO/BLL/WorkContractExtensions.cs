
// Copyright (c) CLMS. All rights reserved.
// Licensed under the AGPL-3.0 license. See LICENSE file in the project root for full license information.
// This source file was autogenerated by zAppDev(r).

using System;
using System.Runtime.Serialization;
using System.Collections.Generic;
using System.ComponentModel;
using System.Linq;
using System.Reflection;
using System.Collections;
using zAppDev.DotNet.Framework.Utilities;
using zAppDev.DotNet.Framework.Configuration;
using zAppDev.DotNet.Framework.Data.Domain;

using DSS2_SynchromodalityCapacityOptimisation.DAL;

namespace DSS2_SynchromodalityCapacityOptimisation.BO
{
	/// <summary>
	/// The WorkContract extensions
	/// </summary>
	public static class WorkContractExtensions
	{
        public static System.Collections.Generic.List<DSS2_SynchromodalityCapacityOptimisation.BO.WorkContract> GetMyWorkContracts(){using (new zAppDev.DotNet.Framework.Profiling.Profiler("WorkContract", zAppDev.DotNet.Framework.Profiling.AppDevSymbolType.ClassOperation, "GetMyWorkContracts")) {
System.Collections.Generic.List<DSS2_SynchromodalityCapacityOptimisation.BO.WorkContract> contracts = new System.Collections.Generic.List<DSS2_SynchromodalityCapacityOptimisation.BO.WorkContract>();
if (((zAppDev.DotNet.Framework.Identity.IdentityHelper.GetCurrentApplicationUser()?.IsInRole("LSPAdmin") ?? false) || (zAppDev.DotNet.Framework.Identity.IdentityHelper.GetCurrentApplicationUser()?.IsInRole("LSPUser") ?? false))) {
DSS2_SynchromodalityCapacityOptimisation.BO.LSPUser thisuser = new DSS2_SynchromodalityCapacityOptimisation.DAL.Repository().GetAsQueryable<DSS2_SynchromodalityCapacityOptimisation.BO.LSPUser>((x) => x.UserName == zAppDev.DotNet.Framework.Identity.IdentityHelper.GetCurrentUserName())?.FirstOrDefault();
var _var0 = thisuser?.LSP?.Id;contracts = new DSS2_SynchromodalityCapacityOptimisation.DAL.Repository().Get<DSS2_SynchromodalityCapacityOptimisation.BO.WorkContract>((x) => x.LSP.Id == _var0).ToList();return contracts;
}
else if (((zAppDev.DotNet.Framework.Identity.IdentityHelper.GetCurrentApplicationUser()?.IsInRole("RAAdmin") ?? false) || (zAppDev.DotNet.Framework.Identity.IdentityHelper.GetCurrentApplicationUser()?.IsInRole("RAUser") ?? false))) {
DSS2_SynchromodalityCapacityOptimisation.BO.RegionalAgentUser thisuser = new DSS2_SynchromodalityCapacityOptimisation.DAL.Repository().GetAsQueryable<DSS2_SynchromodalityCapacityOptimisation.BO.RegionalAgentUser>((x) => x.UserName == zAppDev.DotNet.Framework.Identity.IdentityHelper.GetCurrentUserName())?.FirstOrDefault();
var _var1 = thisuser?.RegionalAgent?.Id;contracts = new DSS2_SynchromodalityCapacityOptimisation.DAL.Repository().Get<DSS2_SynchromodalityCapacityOptimisation.BO.WorkContract>((x) => x.RegionalAgent.Id == _var1).ToList();return contracts;
}
else {
return contracts;
}
}
}



        
	}
}
