
// Copyright (c) CLMS. All rights reserved.
// Licensed under the AGPL-3.0 license. See LICENSE file in the project root for full license information.
// This source file was autogenerated by zAppDev(r).

using System;
using System.Runtime.Serialization;
using System.Collections.Generic;
using System.ComponentModel;
using System.Linq;
using System.Reflection;
using System.Collections;
using zAppDev.DotNet.Framework.Utilities;
using zAppDev.DotNet.Framework.Configuration;
using zAppDev.DotNet.Framework.Data.Domain;

using DSS2_SynchromodalityCapacityOptimisation.DAL;

namespace DSS2_SynchromodalityCapacityOptimisation.BO
{
	/// <summary>
	/// The OrderWMS extensions
	/// </summary>
	public static class OrderWMSExtensions
	{
        public static System.Collections.Generic.List<DSS2_SynchromodalityCapacityOptimisation.BO.OrderWMS> GetOrders(){using (new zAppDev.DotNet.Framework.Profiling.Profiler("OrderWMS", zAppDev.DotNet.Framework.Profiling.AppDevSymbolType.ClassOperation, "GetOrders")) {
System.Collections.Generic.List<DSS2_SynchromodalityCapacityOptimisation.BO.OrderWMS> orders = new DSS2_SynchromodalityCapacityOptimisation.DAL.Repository().GetAll<DSS2_SynchromodalityCapacityOptimisation.BO.OrderWMS>();
foreach (var order in orders ?? Enumerable.Empty<DSS2_SynchromodalityCapacityOptimisation.BO.OrderWMS>()) {
switch((order?.OrdStatus ?? 0)) {
case 0:
{
order.OrdStatusString = "Unfulfilled";break;}
case 10:
{
order.OrdStatusString = "Picking";break;}
case 20:
{
order.OrdStatusString = "In transit";break;}
case 30:
{
order.OrdStatusString = "Delivered";break;}
case 99:
{
order.OrdStatusString = "Cancelled";break;}
}
}
return orders;
}
}


public static System.Collections.Generic.List<DSS2_SynchromodalityCapacityOptimisation.BO.OrderWMS> GetTopRAs(){using (new zAppDev.DotNet.Framework.Profiling.Profiler("OrderWMS", zAppDev.DotNet.Framework.Profiling.AppDevSymbolType.ClassOperation, "GetTopRAs")) {
System.Collections.Generic.List<string> RAs = new System.Collections.Generic.List<string>();
RAs.Add("Al");
RAs.Add("Yw");
RAs.Add("Ec");
RAs.Add("Hw");
RAs.Add("Fr");
RAs.Add("Js");
RAs.Add("Yb");
RAs.Add("Fi");
RAs.Add("Oo");
RAs.Add("Bl");
RAs.Add("Jk");
System.Collections.Generic.List<DSS2_SynchromodalityCapacityOptimisation.BO.OrderWMS> orders = new DSS2_SynchromodalityCapacityOptimisation.DAL.Repository().GetAsQueryable<DSS2_SynchromodalityCapacityOptimisation.BO.OrderWMS>()?.Where((o) => RAs.Contains(o.OrdAgencyCode)).ToList();
return orders;
}
}


public static System.Collections.Generic.List<DSS2_SynchromodalityCapacityOptimisation.BO.OrderWMS> GetTopDepositors(){using (new zAppDev.DotNet.Framework.Profiling.Profiler("OrderWMS", zAppDev.DotNet.Framework.Profiling.AppDevSymbolType.ClassOperation, "GetTopDepositors")) {
System.Collections.Generic.List<string> Depositors = new System.Collections.Generic.List<string>();
Depositors.Add("H");
Depositors.Add("L");
Depositors.Add("F");
Depositors.Add("S");
Depositors.Add("P");
Depositors.Add("Y");
Depositors.Add("Z");
Depositors.Add("R");
Depositors.Add("I");
Depositors.Add("E");
System.Collections.Generic.List<DSS2_SynchromodalityCapacityOptimisation.BO.OrderWMS> orders = new DSS2_SynchromodalityCapacityOptimisation.DAL.Repository().GetAsQueryable<DSS2_SynchromodalityCapacityOptimisation.BO.OrderWMS>()?.Where((o) => Depositors.Contains(o.OrdDepositorCode)).ToList();
return orders;
}
}


public static void AssignOrdersTrucks(){using (new zAppDev.DotNet.Framework.Profiling.Profiler("OrderWMS", zAppDev.DotNet.Framework.Profiling.AppDevSymbolType.ClassOperation, "AssignOrdersTrucks")) {
}
}


public static void Publish(this BO.OrderWMS @this){using (new zAppDev.DotNet.Framework.Profiling.Profiler("OrderWMS", zAppDev.DotNet.Framework.Profiling.AppDevSymbolType.ClassOperation, "Publish")) {
zAppDev.DotNet.Framework.Utilities.Serializer<DSS2_SynchromodalityCapacityOptimisation.BO.OrderDTO> ord = new zAppDev.DotNet.Framework.Utilities.Serializer<DSS2_SynchromodalityCapacityOptimisation.BO.OrderDTO>();
DSS2_SynchromodalityCapacityOptimisation.BO.OrderDTO ordDTO = (new DSS2_SynchromodalityCapacityOptimisation.BO.OrderTransformationDataTransformation.Transformer()).OrderWMS_To_OrderDTO(@this);
string order = ord.ToJson(ordDTO);
string encorder = zAppDev.DotNet.Framework.Utilities.Common.Base64Encode(order);
System.Collections.Generic.List<DSS2_SynchromodalityCapacityOptimisation.BO.PubMessage> message = new System.Collections.Generic.List<DSS2_SynchromodalityCapacityOptimisation.BO.PubMessage>();
DSS2_SynchromodalityCapacityOptimisation.BO.PubMessage mes1 = new DSS2_SynchromodalityCapacityOptimisation.BO.PubMessage();
DSS2_SynchromodalityCapacityOptimisation.BO.PubMessage mes2 = new DSS2_SynchromodalityCapacityOptimisation.BO.PubMessage();
DSS2_SynchromodalityCapacityOptimisation.BO.PubMessage mes3 = new DSS2_SynchromodalityCapacityOptimisation.BO.PubMessage();
mes1.type = "string";mes1.val = "sarmed_order";mes1.key = "topic";mes2.type = "int";mes2.val = "1";mes2.key = "sarmed_order";mes3.type = "string";mes3.val = encorder;mes3.key = "payload";message?.Add(mes1);
message?.Add(mes2);
message?.Add(mes3);
DSS2_SynchromodalityCapacityOptimisation.ExternalStructs.LocalPubSub.Publication publication = new DSS2_SynchromodalityCapacityOptimisation.ExternalStructs.LocalPubSub.Publication();
System.Collections.Generic.List<DSS2_SynchromodalityCapacityOptimisation.ExternalStructs.LocalPubSub.PubMessage> apisPubMessage = new System.Collections.Generic.List<DSS2_SynchromodalityCapacityOptimisation.ExternalStructs.LocalPubSub.PubMessage>();
foreach (var pubs in message ?? Enumerable.Empty<DSS2_SynchromodalityCapacityOptimisation.BO.PubMessage>()) {
DSS2_SynchromodalityCapacityOptimisation.ExternalStructs.LocalPubSub.PubMessage pubMessage = (new DSS2_SynchromodalityCapacityOptimisation.BO.PubMessageDataTransformation.Transformer()).PubMessage_To_PubMessage(pubs);
apisPubMessage.Add(pubMessage);
}
publication.publication = apisPubMessage.ToArray();DSS2_SynchromodalityCapacityOptimisation.BLL.ExternalRestServices.LocalPubSubRestService.Publish(publication);
}
}


public static void CopyFields(this BO.OrderWMS @this, DSS2_SynchromodalityCapacityOptimisation.BO.OrderWMS order){using (new zAppDev.DotNet.Framework.Profiling.Profiler("OrderWMS", zAppDev.DotNet.Framework.Profiling.AppDevSymbolType.ClassOperation, "CopyFields")) {
@this.OrdID = (order?.OrdID ?? 0);@this.OrdOrderID_Remote = (order?.OrdOrderID_Remote ?? 0);@this.OrdOrderExternalCode = (order?.OrdOrderExternalCode ?? "");@this.OrdOrderDescr = (order?.OrdOrderDescr ?? "");@this.OrdRegDateTime = (order?.OrdRegDateTime ?? System.Data.SqlTypes.SqlDateTime.MinValue.Value);@this.OrdDateTime = (order?.OrdDateTime ?? System.Data.SqlTypes.SqlDateTime.MinValue.Value);@this.OrdDeliveryDateTime = (order?.OrdDeliveryDateTime ?? System.Data.SqlTypes.SqlDateTime.MinValue.Value);@this.OrdDepositorCode = (order?.OrdDepositorCode ?? "");@this.OrdDepositorFullName = (order?.OrdDepositorFullName ?? "");@this.OrdCustomerCode = (order?.OrdCustomerCode ?? "");@this.OrdCustomerFullName = (order?.OrdCustomerFullName ?? "");@this.OrdStatus = (order?.OrdStatus ?? 0);@this.OrdMemo = (order?.OrdMemo ?? "");@this.OrdPurpose = (order?.OrdPurpose ?? "");@this.OrdDeliveryValue = (order?.OrdDeliveryValue ?? 0);@this.OrdDeliveryNotes = (order?.OrdDeliveryNotes ?? "");@this.OrdIsReturn = (order?.OrdIsReturn ?? 0);@this.OrdPrdTypeDescr = (order?.OrdPrdTypeDescr ?? "");@this.OrdWrhRoutingCode = (order?.OrdWrhRoutingCode ?? "");@this.OrdDlsId = (order?.OrdDlsId ?? 0);@this.OrdDlsDescr = (order?.OrdDlsDescr ?? "");@this.OrdDlsAddress = (order?.OrdDlsAddress ?? "");@this.OrdDlsCity = (order?.OrdDlsCity ?? "");@this.OrdDlsArea = (order?.OrdDlsArea ?? "");@this.OrdRoutingStatus = (order?.OrdRoutingStatus ?? 0);@this.OrdLfdWeight = (order?.OrdLfdWeight ?? 0);@this.OrdLfdVol = (order?.OrdLfdVol ?? 0);@this.OrdLfdCtn = (order?.OrdLfdCtn ?? 0);@this.OrdLfdCtn = (order?.OrdLfdCtn ?? 0);@this.OrdLfdBar = (order?.OrdLfdBar ?? 0);@this.OrdLfdPalEuro = (order?.OrdLfdPalEuro ?? 0);@this.OrdLfdPalInd = (order?.OrdLfdPalInd ?? 0);@this.OrdLfdPalElsa = (order?.OrdLfdPalElsa ?? 0);@this.OrdLfdParOU = (order?.OrdLfdParOU ?? 0);@this.OrdLfdVar = (order?.OrdLfdVar ?? 0);@this.OrdVoucherDateTime = (order?.OrdVoucherDateTime ?? System.Data.SqlTypes.SqlDateTime.MinValue.Value);@this.OrdVoucherNumber = (order?.OrdVoucherNumber ?? "");@this.OrdVoucherSeries = (order?.OrdVoucherSeries ?? "");@this.OrdVoucherId = (order?.OrdVoucherId ?? 0);@this.OrdAgencyCode = (order?.OrdAgencyCode ?? "");@this.OrdAgencyAddress = (order?.OrdAgencyAddress ?? "");@this.OrdAgencyDescr = (order?.OrdAgencyDescr ?? "");@this.OrdTelRouteId = (order?.OrdTelRouteId ?? 0);@this.OrdVchPlateNr = (order?.OrdVchPlateNr ?? "");@this.OrdVchRouteNr = (order?.OrdVchRouteNr ?? 0);@this.OrdVhrDate = (order?.OrdVhrDate ?? System.Data.SqlTypes.SqlDateTime.MinValue.Value);@this.OrdVhrID = (order?.OrdVhrID ?? 0);@this.OrdLastUpdateDateTime = (order?.OrdLastUpdateDateTime ?? System.Data.SqlTypes.SqlDateTime.MinValue.Value);@this.OrdReadyForLoading = (order?.OrdReadyForLoading ?? 0);@this.Polyline = (order?.Polyline ?? "");@this.Warehouse = (order?.Warehouse ?? "");@this.Truck = (order?.Truck ?? "");}
}


public static System.Collections.Generic.List<DSS2_SynchromodalityCapacityOptimisation.BO.OrderWMS> GetOnTime(){using (new zAppDev.DotNet.Framework.Profiling.Profiler("OrderWMS", zAppDev.DotNet.Framework.Profiling.AppDevSymbolType.ClassOperation, "GetOnTime")) {
return new DSS2_SynchromodalityCapacityOptimisation.DAL.Repository().GetAsQueryable<DSS2_SynchromodalityCapacityOptimisation.BO.OrderWMS>()?.Where((x) => x.ProofOfDelivery != null && x.ProofOfDelivery.DeliveryStatus == "On Time").ToList();
}
}


public static void NewOperation(this BO.OrderWMS @this){using (new zAppDev.DotNet.Framework.Profiling.Profiler("OrderWMS", zAppDev.DotNet.Framework.Profiling.AppDevSymbolType.ClassOperation, "NewOperation")) {
}
}



        
	}
}
