// Copyright (c) CLMS. All rights reserved.
// Licensed under the AGPL-3.0 license. See LICENSE file in the project root for full license information.
// This source file was autogenerated by zAppDev(r).

using System;
using System.Collections.Generic;
using System.Linq;
using System.Linq.Expressions;
using System.Reflection;
using System.Web;
using zAppDev.DotNet.Framework.Utilities;
using zAppDev.DotNet.Framework.Data.Domain;
using NHibernate;
using NHibernate.Linq;
using DSS2_SynchromodalityCapacityOptimisation.BO;
using log4net;
using NHibernate.Action;
using NHibernate.Engine;
using zAppDev.DotNet.Framework.Data;
using zAppDev.DotNet.Framework.Data.DAL;
using zAppDev.DotNet.Framework.Workflow;
using zAppDev.DotNet.Framework.Auditing;
using zAppDev.DotNet.Framework.Identity.Model;
using zAppDev.DotNet.Framework.Identity;

namespace DSS2_SynchromodalityCapacityOptimisation.DAL
{
    public class RepositoryBuilder : IRepositoryBuilder
    {
        public ICreateRepository CreateCreateRepository(MiniSessionManager manager)
        {
            return new Repository(manager);
        }

        public IDeleteRepository CreateDeleteRepository(MiniSessionManager manager)
        {
            return new Repository(manager);
        }

        public IRetrieveRepository CreateRetrieveRepository(MiniSessionManager manager)
        {
            return new Repository(manager);
        }

        public IUpdateRepository CreateUpdateRepository(MiniSessionManager manager)
        {
            return new Repository(manager);
        }

        public IWorkflowRepository CreateWorkflowRepository(MiniSessionManager manager)
        {
            return new Repository(manager);
        }

        public IIdentityRepository CreateIdentityRepository(MiniSessionManager manager)
        {
            return new Repository(manager);
        }

        public IAuditingRepository CreateAuditingRepository(MiniSessionManager manager)
        {
            return new Repository(manager);
        }
    }

    public class Repository : IRepository
    {
        public static List<string> SystemClassNames = new List<string>()
        { "ApplicationUserAction","ApplicationUserExternalProfile","ApplicationSetting","ApplicationUser","ApplicationRole","ApplicationOperation","ApplicationPermission","ApplicationClient","ApplicationUserLogin","ApplicationUserClaim","ProfileSetting","Profile","ApplicationLanguage","DateTimeFormat","ApplicationTheme","FileData","StorageMedium","AuditEntityConfiguration","AuditPropertyConfiguration","AuditLogEntry","AuditLogEntryType","AuditLogPropertyActionType","WorkflowStatus","WorkflowExecutionResult","WorkflowContextBase","WorkflowSchedule"
        };

        private readonly ISession _currentSession;
        private readonly MiniSessionManager _sessionManager;

        public Repository(MiniSessionManager manager = null)
        {
            _sessionManager = manager;
            if (_sessionManager == null)
            {
                _sessionManager = MiniSessionManager.Instance;
            }
            // Make sure the session is open
            _sessionManager.OpenSession();
            _currentSession = _sessionManager.Session;
        }

        // For using without a MiniSessionManager
        public Repository(ISession session)
        {
            _currentSession = session;
            _sessionManager = new MiniSessionManager();
        }

        private RepositoryAction? _prevAction;
        private void SetCurrentActionTo(RepositoryAction? action)
        {
            if (_sessionManager == null) return;
            _prevAction = _sessionManager.LastAction;
            _sessionManager.LastAction = (action ?? _prevAction ?? RepositoryAction.NONE);
        }

        private void RestoreLastAction()
        {
            SetCurrentActionTo(null);
        }

        #region Implementation of IRepository

        public void DeleteActivity(DSS2_SynchromodalityCapacityOptimisation.BO.Activity activity, bool doNotCallDeleteForThis = false, bool isCascaded = false, object calledBy = null)
        {
            if(activity == null || activity.IsTransient()) return;
            activity.Point = null;
            activity.Order = null;
            foreach (var toDissasociate in this.Get<DSS2_SynchromodalityCapacityOptimisation.BO.Route>(ap=> ap.Activities.Contains(activity)))
            {
                toDissasociate.RemoveActivities(activity);
            }
            if (!doNotCallDeleteForThis) Delete<DSS2_SynchromodalityCapacityOptimisation.BO.Activity>(activity, isCascaded);
        }
        public void DeleteAgreement(DSS2_SynchromodalityCapacityOptimisation.BO.Agreement agreement, bool doNotCallDeleteForThis = false, bool isCascaded = false, object calledBy = null)
        {
            if(agreement == null || agreement.IsTransient()) return;
            foreach (var toDissasociate in agreement.Warehouses)
            {
                agreement.RemoveWarehouses(toDissasociate);
            }
            foreach (var toDissasociate in agreement.AgreementStatuses)
            {
                agreement.RemoveAgreementStatuses(toDissasociate);
            }
            foreach (var toDissasociate in agreement.StockOnHands)
            {
                agreement.RemoveStockOnHands(toDissasociate);
            }
            agreement.Supplier = null;
            foreach (var toDissasociate in agreement.TransportUnCaps)
            {
                agreement.RemoveTransportUnCaps(toDissasociate);
            }
            foreach (var toDissasociate in agreement.Items)
            {
                agreement.RemoveItems(toDissasociate);
            }
            foreach (var toDissasociate in this.Get<DSS2_SynchromodalityCapacityOptimisation.BO.SupplierParameter>(ap=> ap.Agreement == agreement))
            {
                toDissasociate.Agreement = null;
            }
            if (!doNotCallDeleteForThis) Delete<DSS2_SynchromodalityCapacityOptimisation.BO.Agreement>(agreement, isCascaded);
        }
        public void DeleteAgreementStatus(DSS2_SynchromodalityCapacityOptimisation.BO.AgreementStatus agreementstatus, bool doNotCallDeleteForThis = false, bool isCascaded = false, object calledBy = null)
        {
            if(agreementstatus == null || agreementstatus.IsTransient()) return;
            foreach (var toDissasociate in this.Get<DSS2_SynchromodalityCapacityOptimisation.BO.Agreement>(ap=> ap.AgreementStatuses.Contains(agreementstatus)))
            {
                toDissasociate.RemoveAgreementStatuses(agreementstatus);
            }
            if (!doNotCallDeleteForThis) Delete<DSS2_SynchromodalityCapacityOptimisation.BO.AgreementStatus>(agreementstatus, isCascaded);
        }
        public void DeleteAmortizationType(DSS2_SynchromodalityCapacityOptimisation.BO.AmortizationType amortizationtype, bool doNotCallDeleteForThis = false, bool isCascaded = false, object calledBy = null)
        {
            if(amortizationtype == null || amortizationtype.IsTransient()) return;
            foreach (var toDissasociate in this.Get<DSS2_SynchromodalityCapacityOptimisation.BO.Vehicule>(ap=> ap.AmortizationType1 == amortizationtype))
            {
                toDissasociate.AmortizationType1 = null;
            }
            if (!doNotCallDeleteForThis) Delete<DSS2_SynchromodalityCapacityOptimisation.BO.AmortizationType>(amortizationtype, isCascaded);
        }
        public void DeleteApplicationClient(zAppDev.DotNet.Framework.Identity.Model.ApplicationClient applicationclient, bool doNotCallDeleteForThis = false, bool isCascaded = false, object calledBy = null)
        {
            if(applicationclient == null || applicationclient.IsTransient()) return;
            applicationclient.User = null;
            if (!doNotCallDeleteForThis) Delete<zAppDev.DotNet.Framework.Identity.Model.ApplicationClient>(applicationclient, isCascaded);
        }
        public void DeleteApplicationLanguage(zAppDev.DotNet.Framework.Identity.Model.ApplicationLanguage applicationlanguage, bool doNotCallDeleteForThis = false, bool isCascaded = false, object calledBy = null)
        {
            if(applicationlanguage == null || applicationlanguage.IsTransient()) return;
            if (applicationlanguage.DateTimeFormat != null)
            {
                var toDelete = applicationlanguage.DateTimeFormat;
                applicationlanguage.DateTimeFormat.ApplicationLanguage = null;
                applicationlanguage.DateTimeFormat = null;
                DeleteDateTimeFormat(toDelete, false, isCascaded, applicationlanguage);
            }
            if (!doNotCallDeleteForThis) Delete<zAppDev.DotNet.Framework.Identity.Model.ApplicationLanguage>(applicationlanguage, isCascaded);
        }
        public void DeleteApplicationOperation(zAppDev.DotNet.Framework.Identity.Model.ApplicationOperation applicationoperation, bool doNotCallDeleteForThis = false, bool isCascaded = false, object calledBy = null)
        {
            if(applicationoperation == null || applicationoperation.IsTransient()) return;
            if (applicationoperation.Permissions.Count > 0)
            {
                var cs = new System.Data.ConstraintException("applicationoperation.Permissions elements are restricted and cannot be deleted");
                cs.Data["Entity"] = "ApplicationOperation";
                cs.Data["PropertyName"] = "Permissions";
                cs.Data["Multiplicity"] = "*";
                throw cs;
            }
            if (!doNotCallDeleteForThis) Delete<zAppDev.DotNet.Framework.Identity.Model.ApplicationOperation>(applicationoperation, isCascaded);
        }
        public void DeleteApplicationPermission(zAppDev.DotNet.Framework.Identity.Model.ApplicationPermission applicationpermission, bool doNotCallDeleteForThis = false, bool isCascaded = false, object calledBy = null)
        {
            if(applicationpermission == null || applicationpermission.IsTransient()) return;
            if (applicationpermission.Roles.Count > 0)
            {
                var cs = new System.Data.ConstraintException("applicationpermission.Roles elements are restricted and cannot be deleted");
                cs.Data["Entity"] = "ApplicationPermission";
                cs.Data["PropertyName"] = "Roles";
                cs.Data["Multiplicity"] = "*";
                throw cs;
            }
            if (applicationpermission.Users.Count > 0)
            {
                var cs = new System.Data.ConstraintException("applicationpermission.Users elements are restricted and cannot be deleted");
                cs.Data["Entity"] = "ApplicationPermission";
                cs.Data["PropertyName"] = "Users";
                cs.Data["Multiplicity"] = "*";
                throw cs;
            }
            foreach (var toDissasociate in applicationpermission.Operations)
            {
                applicationpermission.RemoveOperations(toDissasociate);
            }
            if (!doNotCallDeleteForThis) Delete<zAppDev.DotNet.Framework.Identity.Model.ApplicationPermission>(applicationpermission, isCascaded);
        }
        public void DeleteApplicationRole(zAppDev.DotNet.Framework.Identity.Model.ApplicationRole applicationrole, bool doNotCallDeleteForThis = false, bool isCascaded = false, object calledBy = null)
        {
            if(applicationrole == null || applicationrole.IsTransient()) return;
            if (applicationrole.Users.Count > 0)
            {
                var cs = new System.Data.ConstraintException("applicationrole.Users elements are restricted and cannot be deleted");
                cs.Data["Entity"] = "ApplicationRole";
                cs.Data["PropertyName"] = "Users";
                cs.Data["Multiplicity"] = "*";
                throw cs;
            }
            foreach (var toDissasociate in applicationrole.Permissions)
            {
                applicationrole.RemovePermissions(toDissasociate);
            }
            if (!doNotCallDeleteForThis) Delete<zAppDev.DotNet.Framework.Identity.Model.ApplicationRole>(applicationrole, isCascaded);
        }
        public void DeleteApplicationSetting(zAppDev.DotNet.Framework.Identity.Model.ApplicationSetting applicationsetting, bool doNotCallDeleteForThis = false, bool isCascaded = false, object calledBy = null)
        {
            if(applicationsetting == null || applicationsetting.IsTransient()) return;
            if (!doNotCallDeleteForThis) Delete<zAppDev.DotNet.Framework.Identity.Model.ApplicationSetting>(applicationsetting, isCascaded);
        }
        public void DeleteApplicationTheme(zAppDev.DotNet.Framework.Identity.Model.ApplicationTheme applicationtheme, bool doNotCallDeleteForThis = false, bool isCascaded = false, object calledBy = null)
        {
            if(applicationtheme == null || applicationtheme.IsTransient()) return;
            if (!doNotCallDeleteForThis) Delete<zAppDev.DotNet.Framework.Identity.Model.ApplicationTheme>(applicationtheme, isCascaded);
        }
        public void DeleteApplicationUser(zAppDev.DotNet.Framework.Identity.Model.ApplicationUser applicationuser, bool doNotCallDeleteForThis = false, bool isCascaded = false, object calledBy = null)
        {
            if(applicationuser == null || applicationuser.IsTransient()) return;
            foreach (var toDelete in applicationuser.Clients)
            {
                applicationuser.RemoveClients(toDelete);
                DeleteApplicationClient(toDelete, false, isCascaded);
            }
            foreach (var toDelete in applicationuser.Logins)
            {
                applicationuser.RemoveLogins(toDelete);
                DeleteApplicationUserLogin(toDelete, false, isCascaded);
            }
            foreach (var toDelete in applicationuser.Claims)
            {
                applicationuser.RemoveClaims(toDelete);
                DeleteApplicationUserClaim(toDelete, false, isCascaded);
            }
            foreach (var toDissasociate in applicationuser.Permissions)
            {
                applicationuser.RemovePermissions(toDissasociate);
            }
            if (applicationuser.Profile != null)
            {
                var toDelete = applicationuser.Profile;
                applicationuser.Profile = null;
                DeleteProfile(toDelete, false, isCascaded, applicationuser);
            }
            foreach (var toDissasociate in applicationuser.Roles)
            {
                applicationuser.RemoveRoles(toDissasociate);
            }
            if (!doNotCallDeleteForThis) Delete<zAppDev.DotNet.Framework.Identity.Model.ApplicationUser>(applicationuser, isCascaded);
        }
        public void DeleteApplicationUserAction(zAppDev.DotNet.Framework.Identity.Model.ApplicationUserAction applicationuseraction, bool doNotCallDeleteForThis = false, bool isCascaded = false, object calledBy = null)
        {
            if(applicationuseraction == null || applicationuseraction.IsTransient()) return;
            if (!doNotCallDeleteForThis) Delete<zAppDev.DotNet.Framework.Identity.Model.ApplicationUserAction>(applicationuseraction, isCascaded);
        }
        public void DeleteApplicationUserClaim(zAppDev.DotNet.Framework.Identity.Model.ApplicationUserClaim applicationuserclaim, bool doNotCallDeleteForThis = false, bool isCascaded = false, object calledBy = null)
        {
            if(applicationuserclaim == null || applicationuserclaim.IsTransient()) return;
            applicationuserclaim.User = null;
            if (!doNotCallDeleteForThis) Delete<zAppDev.DotNet.Framework.Identity.Model.ApplicationUserClaim>(applicationuserclaim, isCascaded);
        }
        public void DeleteApplicationUserExternalProfile(zAppDev.DotNet.Framework.Identity.Model.ApplicationUserExternalProfile applicationuserexternalprofile, bool doNotCallDeleteForThis = false, bool isCascaded = false, object calledBy = null)
        {
            if(applicationuserexternalprofile == null || applicationuserexternalprofile.IsTransient()) return;
            if (!doNotCallDeleteForThis) Delete<zAppDev.DotNet.Framework.Identity.Model.ApplicationUserExternalProfile>(applicationuserexternalprofile, isCascaded);
        }
        public void DeleteApplicationUserLogin(zAppDev.DotNet.Framework.Identity.Model.ApplicationUserLogin applicationuserlogin, bool doNotCallDeleteForThis = false, bool isCascaded = false, object calledBy = null)
        {
            if(applicationuserlogin == null || applicationuserlogin.IsTransient()) return;
            applicationuserlogin.User = null;
            if (!doNotCallDeleteForThis) Delete<zAppDev.DotNet.Framework.Identity.Model.ApplicationUserLogin>(applicationuserlogin, isCascaded);
        }
        public void DeleteAppNotification(DSS2_SynchromodalityCapacityOptimisation.BO.AppNotification appnotification, bool doNotCallDeleteForThis = false, bool isCascaded = false, object calledBy = null)
        {
            if(appnotification == null || appnotification.IsTransient()) return;
            foreach (var toDissasociate in appnotification.AppNotificationActions)
            {
                appnotification.RemoveAppNotificationActions(toDissasociate);
            }
            appnotification.Recipient = null;
            if (!doNotCallDeleteForThis) Delete<DSS2_SynchromodalityCapacityOptimisation.BO.AppNotification>(appnotification, isCascaded);
        }
        public void DeleteAppNotificationAction(DSS2_SynchromodalityCapacityOptimisation.BO.AppNotificationAction appnotificationaction, bool doNotCallDeleteForThis = false, bool isCascaded = false, object calledBy = null)
        {
            if(appnotificationaction == null || appnotificationaction.IsTransient()) return;
            foreach (var toDissasociate in this.Get<DSS2_SynchromodalityCapacityOptimisation.BO.AppNotification>(ap=> ap.AppNotificationActions.Contains(appnotificationaction)))
            {
                toDissasociate.RemoveAppNotificationActions(appnotificationaction);
            }
            if (!doNotCallDeleteForThis) Delete<DSS2_SynchromodalityCapacityOptimisation.BO.AppNotificationAction>(appnotificationaction, isCascaded);
        }
        public void DeleteAuditEntityConfiguration(zAppDev.DotNet.Framework.Auditing.Model.AuditEntityConfiguration auditentityconfiguration, bool doNotCallDeleteForThis = false, bool isCascaded = false, object calledBy = null)
        {
            if(auditentityconfiguration == null || auditentityconfiguration.IsTransient()) return;
            foreach (var toDelete in auditentityconfiguration.Properties)
            {
                auditentityconfiguration.RemoveProperties(toDelete);
                DeleteAuditPropertyConfiguration(toDelete, false, isCascaded);
            }
            if (!doNotCallDeleteForThis) Delete<zAppDev.DotNet.Framework.Auditing.Model.AuditEntityConfiguration>(auditentityconfiguration, isCascaded);
        }
        public void DeleteAuditLogEntry(zAppDev.DotNet.Framework.Auditing.Model.AuditLogEntry auditlogentry, bool doNotCallDeleteForThis = false, bool isCascaded = false, object calledBy = null)
        {
            if(auditlogentry == null || auditlogentry.IsTransient()) return;
            if (!doNotCallDeleteForThis) Delete<zAppDev.DotNet.Framework.Auditing.Model.AuditLogEntry>(auditlogentry, isCascaded);
        }
        public void DeleteAuditLogEntryType(zAppDev.DotNet.Framework.Auditing.Model.AuditLogEntryType auditlogentrytype, bool doNotCallDeleteForThis = false, bool isCascaded = false, object calledBy = null)
        {
            if(auditlogentrytype == null || auditlogentrytype.IsTransient()) return;
            if (!doNotCallDeleteForThis) Delete<zAppDev.DotNet.Framework.Auditing.Model.AuditLogEntryType>(auditlogentrytype, isCascaded);
        }
        public void DeleteAuditLogPropertyActionType(zAppDev.DotNet.Framework.Auditing.Model.AuditLogPropertyActionType auditlogpropertyactiontype, bool doNotCallDeleteForThis = false, bool isCascaded = false, object calledBy = null)
        {
            if(auditlogpropertyactiontype == null || auditlogpropertyactiontype.IsTransient()) return;
            if (!doNotCallDeleteForThis) Delete<zAppDev.DotNet.Framework.Auditing.Model.AuditLogPropertyActionType>(auditlogpropertyactiontype, isCascaded);
        }
        public void DeleteAuditPropertyConfiguration(zAppDev.DotNet.Framework.Auditing.Model.AuditPropertyConfiguration auditpropertyconfiguration, bool doNotCallDeleteForThis = false, bool isCascaded = false, object calledBy = null)
        {
            if(auditpropertyconfiguration == null || auditpropertyconfiguration.IsTransient()) return;
            auditpropertyconfiguration.Entity = null;
            if (!doNotCallDeleteForThis) Delete<zAppDev.DotNet.Framework.Auditing.Model.AuditPropertyConfiguration>(auditpropertyconfiguration, isCascaded);
        }
        public void DeleteAVGTime(DSS2_SynchromodalityCapacityOptimisation.BO.AVGTime avgtime, bool doNotCallDeleteForThis = false, bool isCascaded = false, object calledBy = null)
        {
            if(avgtime == null || avgtime.IsTransient()) return;
            if (!doNotCallDeleteForThis) Delete<DSS2_SynchromodalityCapacityOptimisation.BO.AVGTime>(avgtime, isCascaded);
        }
        public void DeleteBaseUnit(DSS2_SynchromodalityCapacityOptimisation.BO.BaseUnit baseunit, bool doNotCallDeleteForThis = false, bool isCascaded = false, object calledBy = null)
        {
            if(baseunit == null || baseunit.IsTransient()) return;
            baseunit.SubCategory = null;
            foreach (var toDissasociate in this.Get<DSS2_SynchromodalityCapacityOptimisation.BO.Item>(ap=> ap.BaseUnit == baseunit))
            {
                toDissasociate.BaseUnit = null;
            }
            if (!doNotCallDeleteForThis) Delete<DSS2_SynchromodalityCapacityOptimisation.BO.BaseUnit>(baseunit, isCascaded);
        }
        public void DeleteBusinessUnit(DSS2_SynchromodalityCapacityOptimisation.BO.BusinessUnit businessunit, bool doNotCallDeleteForThis = false, bool isCascaded = false, object calledBy = null)
        {
            if(businessunit == null || businessunit.IsTransient()) return;
            businessunit.Supplier = null;
            foreach (var toDissasociate in businessunit.Categories)
            {
                businessunit.RemoveCategories(toDissasociate);
            }
            foreach (var toDissasociate in this.Get<DSS2_SynchromodalityCapacityOptimisation.BO.Item>(ap=> ap.BusinessUnit == businessunit))
            {
                toDissasociate.BusinessUnit = null;
            }
            if (!doNotCallDeleteForThis) Delete<DSS2_SynchromodalityCapacityOptimisation.BO.BusinessUnit>(businessunit, isCascaded);
        }
        public void DeleteCategory(DSS2_SynchromodalityCapacityOptimisation.BO.Category category, bool doNotCallDeleteForThis = false, bool isCascaded = false, object calledBy = null)
        {
            if(category == null || category.IsTransient()) return;
            category.BusinessUnit = null;
            foreach (var toDissasociate in category.SubCategory)
            {
                category.RemoveSubCategory(toDissasociate);
            }
            foreach (var toDissasociate in this.Get<DSS2_SynchromodalityCapacityOptimisation.BO.Item>(ap=> ap.Category == category))
            {
                toDissasociate.Category = null;
            }
            if (!doNotCallDeleteForThis) Delete<DSS2_SynchromodalityCapacityOptimisation.BO.Category>(category, isCascaded);
        }
        public void DeleteChartWorkaround(DSS2_SynchromodalityCapacityOptimisation.BO.ChartWorkaround chartworkaround, bool doNotCallDeleteForThis = false, bool isCascaded = false, object calledBy = null)
        {
            if(chartworkaround == null || chartworkaround.IsTransient()) return;
            if (!doNotCallDeleteForThis) Delete<DSS2_SynchromodalityCapacityOptimisation.BO.ChartWorkaround>(chartworkaround, isCascaded);
        }
        public void DeleteCO2PerCarrier(DSS2_SynchromodalityCapacityOptimisation.BO.CO2PerCarrier co2percarrier, bool doNotCallDeleteForThis = false, bool isCascaded = false, object calledBy = null)
        {
            if(co2percarrier == null || co2percarrier.IsTransient()) return;
            if (!doNotCallDeleteForThis) Delete<DSS2_SynchromodalityCapacityOptimisation.BO.CO2PerCarrier>(co2percarrier, isCascaded);
        }
        public void DeleteComment(DSS2_SynchromodalityCapacityOptimisation.BO.Comment comment, bool doNotCallDeleteForThis = false, bool isCascaded = false, object calledBy = null)
        {
            if(comment == null || comment.IsTransient()) return;
            foreach (var toDissasociate in this.Get<DSS2_SynchromodalityCapacityOptimisation.BO.OrderForecastDetails>(ap=> ap.Comments.Contains(comment)))
            {
                toDissasociate.RemoveComments(comment);
            }
            if (!doNotCallDeleteForThis) Delete<DSS2_SynchromodalityCapacityOptimisation.BO.Comment>(comment, isCascaded);
        }
        public void DeleteCompany(DSS2_SynchromodalityCapacityOptimisation.BO.Company company, bool doNotCallDeleteForThis = false, bool isCascaded = false, object calledBy = null)
        {
            if(company == null || company.IsTransient()) return;
            foreach (var toDissasociate in company.Contacts)
            {
                company.RemoveContacts(toDissasociate);
            }
            if (!doNotCallDeleteForThis) Delete<DSS2_SynchromodalityCapacityOptimisation.BO.Company>(company, isCascaded);
        }
        public void DeleteCondition(DSS2_SynchromodalityCapacityOptimisation.BO.Condition condition, bool doNotCallDeleteForThis = false, bool isCascaded = false, object calledBy = null)
        {
            if(condition == null || condition.IsTransient()) return;
            foreach (var toDissasociate in this.Get<DSS2_SynchromodalityCapacityOptimisation.BO.Shipment>(ap=> ap.AcceptedConditions.Contains(condition)))
            {
                toDissasociate.RemoveAcceptedConditions(condition);
            }
            if (!doNotCallDeleteForThis) Delete<DSS2_SynchromodalityCapacityOptimisation.BO.Condition>(condition, isCascaded);
        }
        public void DeleteContact(DSS2_SynchromodalityCapacityOptimisation.BO.Contact contact, bool doNotCallDeleteForThis = false, bool isCascaded = false, object calledBy = null)
        {
            if(contact == null || contact.IsTransient()) return;
            foreach (var toDelete in contact.Clients)
            {
                contact.RemoveClients(toDelete);
                DeleteApplicationClient(toDelete, false, isCascaded);
            }
            foreach (var toDelete in contact.Logins)
            {
                contact.RemoveLogins(toDelete);
                DeleteApplicationUserLogin(toDelete, false, isCascaded);
            }
            foreach (var toDissasociate in this.Get<DSS2_SynchromodalityCapacityOptimisation.BO.AppNotification>(ap=> ap.Recipient == contact))
            {
                toDissasociate.Recipient = null;
            }
            contact.Company = null;
            foreach (var toDelete in contact.Claims)
            {
                contact.RemoveClaims(toDelete);
                DeleteApplicationUserClaim(toDelete, false, isCascaded);
            }
            if (contact.Profile != null)
            {
                var toDelete = contact.Profile;
                contact.Profile = null;
                DeleteProfile(toDelete, false, isCascaded, contact);
            }
            foreach (var toDissasociate in contact.Roles)
            {
                contact.RemoveRoles(toDissasociate);
            }
            foreach (var toDissasociate in contact.Permissions)
            {
                contact.RemovePermissions(toDissasociate);
            }
            if (!doNotCallDeleteForThis) Delete<DSS2_SynchromodalityCapacityOptimisation.BO.Contact>(contact, isCascaded);
        }
        public void DeleteCoordinates(DSS2_SynchromodalityCapacityOptimisation.BO.Coordinates coordinates, bool doNotCallDeleteForThis = false, bool isCascaded = false, object calledBy = null)
        {
            if(coordinates == null || coordinates.IsTransient()) return;
            foreach (var toDissasociate in this.Get<DSS2_SynchromodalityCapacityOptimisation.BO.Location>(ap=> ap.Coordinates == coordinates))
            {
                toDissasociate.Coordinates = null;
            }
            if (!doNotCallDeleteForThis) Delete<DSS2_SynchromodalityCapacityOptimisation.BO.Coordinates>(coordinates, isCascaded);
        }
        public void DeleteCostSplit(DSS2_SynchromodalityCapacityOptimisation.BO.CostSplit costsplit, bool doNotCallDeleteForThis = false, bool isCascaded = false, object calledBy = null)
        {
            if(costsplit == null || costsplit.IsTransient()) return;
            foreach (var toDissasociate in costsplit.Orders)
            {
                costsplit.RemoveOrders(toDissasociate);
            }
            if (!doNotCallDeleteForThis) Delete<DSS2_SynchromodalityCapacityOptimisation.BO.CostSplit>(costsplit, isCascaded);
        }
        public void DeleteCustomVolume(DSS2_SynchromodalityCapacityOptimisation.BO.CustomVolume customvolume, bool doNotCallDeleteForThis = false, bool isCascaded = false, object calledBy = null)
        {
            if(customvolume == null || customvolume.IsTransient()) return;
            foreach (var toDissasociate in this.Get<DSS2_SynchromodalityCapacityOptimisation.BO.Shipment>(ap=> ap.OccupiedVolume == customvolume))
            {
                toDissasociate.OccupiedVolume = null;
            }
            if (this.Get<DSS2_SynchromodalityCapacityOptimisation.BO.ShippingOrder>(ap=> ap.PlannedVolume.Contains(customvolume)).Count > 0)
            {
                var cs = new System.Data.ConstraintException("At least one ShippingOrder exists so CustomVolume cannot be deleted");
                cs.Data["Entity"] = "ShippingOrder";
                cs.Data["PropertyName"] = "PlannedVolume";
                cs.Data["Multiplicity"] = "0..1";
                throw cs;
            }
            foreach (var toDissasociate in customvolume.VolumeComposition)
            {
                customvolume.RemoveVolumeComposition(toDissasociate);
            }
            if (this.Get<DSS2_SynchromodalityCapacityOptimisation.BO.ShippingOrder>(ap=> ap.ActualVolume.Contains(customvolume)).Count > 0)
            {
                var cs = new System.Data.ConstraintException("At least one ShippingOrder exists so CustomVolume cannot be deleted");
                cs.Data["Entity"] = "ShippingOrder";
                cs.Data["PropertyName"] = "ActualVolume";
                cs.Data["Multiplicity"] = "0..1";
                throw cs;
            }
            if (!doNotCallDeleteForThis) Delete<DSS2_SynchromodalityCapacityOptimisation.BO.CustomVolume>(customvolume, isCascaded);
        }
        public void DeleteDashboard(DSS2_SynchromodalityCapacityOptimisation.BO.Dashboard dashboard, bool doNotCallDeleteForThis = false, bool isCascaded = false, object calledBy = null)
        {
            if(dashboard == null || dashboard.IsTransient()) return;
            foreach (var toDissasociate in dashboard.Statistics)
            {
                dashboard.RemoveStatistics(toDissasociate);
            }
            if (!doNotCallDeleteForThis) Delete<DSS2_SynchromodalityCapacityOptimisation.BO.Dashboard>(dashboard, isCascaded);
        }
        public void DeleteDateTimeFormat(zAppDev.DotNet.Framework.Identity.Model.DateTimeFormat datetimeformat, bool doNotCallDeleteForThis = false, bool isCascaded = false, object calledBy = null)
        {
            if(datetimeformat == null || datetimeformat.IsTransient()) return;
            datetimeformat.ApplicationLanguage = null;
            if (!doNotCallDeleteForThis) Delete<zAppDev.DotNet.Framework.Identity.Model.DateTimeFormat>(datetimeformat, isCascaded);
        }
        public void DeleteDeliveryPlan(DSS2_SynchromodalityCapacityOptimisation.BO.DeliveryPlan deliveryplan, bool doNotCallDeleteForThis = false, bool isCascaded = false, object calledBy = null)
        {
            if(deliveryplan == null || deliveryplan.IsTransient()) return;
            deliveryplan.Item = null;
            deliveryplan.Warehouse = null;
            if (!doNotCallDeleteForThis) Delete<DSS2_SynchromodalityCapacityOptimisation.BO.DeliveryPlan>(deliveryplan, isCascaded);
        }
        public void DeleteDeliverySchedule(DSS2_SynchromodalityCapacityOptimisation.BO.DeliverySchedule deliveryschedule, bool doNotCallDeleteForThis = false, bool isCascaded = false, object calledBy = null)
        {
            if(deliveryschedule == null || deliveryschedule.IsTransient()) return;
            deliveryschedule.Item = null;
            deliveryschedule.Supplier = null;
            deliveryschedule.Warehouse = null;
            if (!doNotCallDeleteForThis) Delete<DSS2_SynchromodalityCapacityOptimisation.BO.DeliverySchedule>(deliveryschedule, isCascaded);
        }
        public void DeleteDistanceCosts(DSS2_SynchromodalityCapacityOptimisation.BO.DistanceCosts distancecosts, bool doNotCallDeleteForThis = false, bool isCascaded = false, object calledBy = null)
        {
            if(distancecosts == null || distancecosts.IsTransient()) return;
            foreach (var toDissasociate in distancecosts.PropulsionTypeCost)
            {
                distancecosts.RemovePropulsionTypeCost(toDissasociate);
            }
            foreach (var toDissasociate in this.Get<DSS2_SynchromodalityCapacityOptimisation.BO.Vehicule>(ap=> ap.DistanceCosts == distancecosts))
            {
                toDissasociate.DistanceCosts = null;
            }
            if (!doNotCallDeleteForThis) Delete<DSS2_SynchromodalityCapacityOptimisation.BO.DistanceCosts>(distancecosts, isCascaded);
        }
        public void DeleteDriver(DSS2_SynchromodalityCapacityOptimisation.BO.Driver driver, bool doNotCallDeleteForThis = false, bool isCascaded = false, object calledBy = null)
        {
            if(driver == null || driver.IsTransient()) return;
            foreach (var toDelete in driver.Clients)
            {
                driver.RemoveClients(toDelete);
                DeleteApplicationClient(toDelete, false, isCascaded);
            }
            foreach (var toDelete in driver.Logins)
            {
                driver.RemoveLogins(toDelete);
                DeleteApplicationUserLogin(toDelete, false, isCascaded);
            }
            foreach (var toDissasociate in this.Get<DSS2_SynchromodalityCapacityOptimisation.BO.Shipment>(ap=> ap.Driver == driver))
            {
                toDissasociate.Driver = null;
            }
            driver.Employer = null;
            foreach (var toDelete in driver.Claims)
            {
                driver.RemoveClaims(toDelete);
                DeleteApplicationUserClaim(toDelete, false, isCascaded);
            }
            if (driver.Profile != null)
            {
                var toDelete = driver.Profile;
                driver.Profile = null;
                DeleteProfile(toDelete, false, isCascaded, driver);
            }
            foreach (var toDissasociate in driver.Roles)
            {
                driver.RemoveRoles(toDissasociate);
            }
            foreach (var toDissasociate in driver.Permissions)
            {
                driver.RemovePermissions(toDissasociate);
            }
            if (!doNotCallDeleteForThis) Delete<DSS2_SynchromodalityCapacityOptimisation.BO.Driver>(driver, isCascaded);
        }
        public void DeleteFileData(DSS2_SynchromodalityCapacityOptimisation.BO.FileData filedata, bool doNotCallDeleteForThis = false, bool isCascaded = false, object calledBy = null)
        {
            if(filedata == null || filedata.IsTransient()) return;
            if (!doNotCallDeleteForThis) Delete<DSS2_SynchromodalityCapacityOptimisation.BO.FileData>(filedata, isCascaded);
        }
        public void DeleteGeoArea(DSS2_SynchromodalityCapacityOptimisation.BO.GeoArea geoarea, bool doNotCallDeleteForThis = false, bool isCascaded = false, object calledBy = null)
        {
            if(geoarea == null || geoarea.IsTransient()) return;
            foreach (var toDissasociate in this.Get<DSS2_SynchromodalityCapacityOptimisation.BO.RegionalAgent>(ap=> ap.AreaSupport.Contains(geoarea)))
            {
                toDissasociate.RemoveAreaSupport(geoarea);
            }
            if (!doNotCallDeleteForThis) Delete<DSS2_SynchromodalityCapacityOptimisation.BO.GeoArea>(geoarea, isCascaded);
        }
        public void DeleteGeoCoordinates(DSS2_SynchromodalityCapacityOptimisation.BO.GeoCoordinates geocoordinates, bool doNotCallDeleteForThis = false, bool isCascaded = false, object calledBy = null)
        {
            if(geocoordinates == null || geocoordinates.IsTransient()) return;
            foreach (var toDissasociate in this.Get<DSS2_SynchromodalityCapacityOptimisation.BO.Truck>(ap=> ap.CurrentLocation == geocoordinates))
            {
                toDissasociate.CurrentLocation = null;
            }
            foreach (var toDissasociate in this.Get<DSS2_SynchromodalityCapacityOptimisation.BO.Warehouse>(ap=> ap.GeoCoordinates == geocoordinates))
            {
                toDissasociate.GeoCoordinates = null;
            }
            foreach (var toDissasociate in this.Get<DSS2_SynchromodalityCapacityOptimisation.BO.RegionalAgent>(ap=> ap.AddressCoordinates == geocoordinates))
            {
                toDissasociate.AddressCoordinates = null;
            }
            if (!doNotCallDeleteForThis) Delete<DSS2_SynchromodalityCapacityOptimisation.BO.GeoCoordinates>(geocoordinates, isCascaded);
        }
        public void DeleteInventoryItem(DSS2_SynchromodalityCapacityOptimisation.BO.InventoryItem inventoryitem, bool doNotCallDeleteForThis = false, bool isCascaded = false, object calledBy = null)
        {
            if(inventoryitem == null || inventoryitem.IsTransient()) return;
            inventoryitem.Item = null;
            inventoryitem.Warehouse = null;
            if (!doNotCallDeleteForThis) Delete<DSS2_SynchromodalityCapacityOptimisation.BO.InventoryItem>(inventoryitem, isCascaded);
        }
        public void DeleteItem(DSS2_SynchromodalityCapacityOptimisation.BO.Item item, bool doNotCallDeleteForThis = false, bool isCascaded = false, object calledBy = null)
        {
            if(item == null || item.IsTransient()) return;
            foreach (var toDissasociate in item.PastOrders)
            {
                item.RemovePastOrders(toDissasociate);
            }
            foreach (var toDissasociate in item.ItemsForecast)
            {
                item.RemoveItemsForecast(toDissasociate);
            }
            foreach (var toDissasociate in item.DeliverySchedules)
            {
                item.RemoveDeliverySchedules(toDissasociate);
            }
            foreach (var toDissasociate in item.SLALeadTimes)
            {
                item.RemoveSLALeadTimes(toDissasociate);
            }
            foreach (var toDissasociate in item.SupplierCapacities)
            {
                item.RemoveSupplierCapacities(toDissasociate);
            }
            foreach (var toDissasociate in item.SLADeliveries)
            {
                item.RemoveSLADeliveries(toDissasociate);
            }
            item.BusinessUnit = null;
            foreach (var toDissasociate in item.StocksOnHand)
            {
                item.RemoveStocksOnHand(toDissasociate);
            }
            item.SubCategory = null;
            foreach (var toDissasociate in this.Get<DSS2_SynchromodalityCapacityOptimisation.BO.Statistics>(ap=> ap.Item == item))
            {
                toDissasociate.Item = null;
            }
            item.MinimumQuantity = null;
            foreach (var toDissasociate in this.Get<DSS2_SynchromodalityCapacityOptimisation.BO.WasteOld>(ap=> ap.Item == item))
            {
                toDissasociate.Item = null;
            }
            foreach (var toDissasociate in item.Agreements)
            {
                item.RemoveAgreements(toDissasociate);
            }
            foreach (var toDissasociate in this.Get<DSS2_SynchromodalityCapacityOptimisation.BO.OrderForecastStatistic>(ap=> ap.Item == item))
            {
                toDissasociate.Item = null;
            }
            item.Supplier = null;
            foreach (var toDissasociate in this.Get<DSS2_SynchromodalityCapacityOptimisation.BO.OrderForecastDetails>(ap=> ap.Item == item))
            {
                toDissasociate.Item = null;
            }
            item.BaseUnit = null;
            foreach (var toDissasociate in this.Get<DSS2_SynchromodalityCapacityOptimisation.BO.ItemParameter>(ap=> ap.Item == item))
            {
                toDissasociate.Item = null;
            }
            foreach (var toDissasociate in item.InventoryItems)
            {
                item.RemoveInventoryItems(toDissasociate);
            }
            foreach (var toDissasociate in this.Get<DSS2_SynchromodalityCapacityOptimisation.BO.Platform>(ap=> ap.Item == item))
            {
                toDissasociate.Item = null;
            }
            foreach (var toDissasociate in item.Notifications)
            {
                item.RemoveNotifications(toDissasociate);
            }
            foreach (var toDissasociate in this.Get<DSS2_SynchromodalityCapacityOptimisation.BO.SLAStatistics>(ap=> ap.Item == item))
            {
                toDissasociate.Item = null;
            }
            item.Category = null;
            foreach (var toDissasociate in this.Get<DSS2_SynchromodalityCapacityOptimisation.BO.Stats>(ap=> ap.Item == item))
            {
                toDissasociate.Item = null;
            }
            if (!doNotCallDeleteForThis) Delete<DSS2_SynchromodalityCapacityOptimisation.BO.Item>(item, isCascaded);
        }
        public void DeleteItemParameter(DSS2_SynchromodalityCapacityOptimisation.BO.ItemParameter itemparameter, bool doNotCallDeleteForThis = false, bool isCascaded = false, object calledBy = null)
        {
            if(itemparameter == null || itemparameter.IsTransient()) return;
            itemparameter.Item = null;
            foreach (var toDissasociate in this.Get<DSS2_SynchromodalityCapacityOptimisation.BO.OrderForecast>(ap=> ap.ItemParameters.Contains(itemparameter)))
            {
                toDissasociate.RemoveItemParameters(itemparameter);
            }
            if (!doNotCallDeleteForThis) Delete<DSS2_SynchromodalityCapacityOptimisation.BO.ItemParameter>(itemparameter, isCascaded);
        }
        public void DeleteItemType(DSS2_SynchromodalityCapacityOptimisation.BO.ItemType itemtype, bool doNotCallDeleteForThis = false, bool isCascaded = false, object calledBy = null)
        {
            if(itemtype == null || itemtype.IsTransient()) return;
            foreach (var toDissasociate in this.Get<DSS2_SynchromodalityCapacityOptimisation.BO.ShippingOrder>(ap=> ap.ItemType == itemtype))
            {
                toDissasociate.ItemType = null;
            }
            if (!doNotCallDeleteForThis) Delete<DSS2_SynchromodalityCapacityOptimisation.BO.ItemType>(itemtype, isCascaded);
        }
        public void DeleteLegVolumeDetails(DSS2_SynchromodalityCapacityOptimisation.BO.LegVolumeDetails legvolumedetails, bool doNotCallDeleteForThis = false, bool isCascaded = false, object calledBy = null)
        {
            if(legvolumedetails == null || legvolumedetails.IsTransient()) return;
            legvolumedetails.Destination = null;
            legvolumedetails.Origin = null;
            foreach (var toDissasociate in this.Get<DSS2_SynchromodalityCapacityOptimisation.BO.PathVolumeDetail>(ap=> ap.Legs.Contains(legvolumedetails)))
            {
                toDissasociate.RemoveLegs(legvolumedetails);
            }
            if (!doNotCallDeleteForThis) Delete<DSS2_SynchromodalityCapacityOptimisation.BO.LegVolumeDetails>(legvolumedetails, isCascaded);
        }
        public void DeleteLocation(DSS2_SynchromodalityCapacityOptimisation.BO.Location location, bool doNotCallDeleteForThis = false, bool isCascaded = false, object calledBy = null)
        {
            if(location == null || location.IsTransient()) return;
            foreach (var toDissasociate in this.Get<DSS2_SynchromodalityCapacityOptimisation.BO.ShippingOrder>(ap=> ap.DeparturePoint == location))
            {
                toDissasociate.DeparturePoint = null;
            }
            foreach (var toDissasociate in location.Driver)
            {
                location.RemoveDriver(toDissasociate);
            }
            foreach (var toDissasociate in this.Get<DSS2_SynchromodalityCapacityOptimisation.BO.ShippingOrder>(ap=> ap.ArrivalPoint == location))
            {
                toDissasociate.ArrivalPoint = null;
            }
            foreach (var toDissasociate in this.Get<DSS2_SynchromodalityCapacityOptimisation.BO.Shipment>(ap=> ap.DeparturePoint == location))
            {
                toDissasociate.DeparturePoint = null;
            }
            foreach (var toDissasociate in this.Get<DSS2_SynchromodalityCapacityOptimisation.BO.LegVolumeDetails>(ap=> ap.Origin == location))
            {
                toDissasociate.Origin = null;
            }
            location.Coordinates = null;
            foreach (var toDissasociate in this.Get<DSS2_SynchromodalityCapacityOptimisation.BO.LegVolumeDetails>(ap=> ap.Destination == location))
            {
                toDissasociate.Destination = null;
            }
            foreach (var toDissasociate in this.Get<DSS2_SynchromodalityCapacityOptimisation.BO.Shipment>(ap=> ap.FinalDestination == location))
            {
                toDissasociate.FinalDestination = null;
            }
            foreach (var toDissasociate in this.Get<DSS2_SynchromodalityCapacityOptimisation.BO.Activity>(ap=> ap.Point == location))
            {
                toDissasociate.Point = null;
            }
            if (!doNotCallDeleteForThis) Delete<DSS2_SynchromodalityCapacityOptimisation.BO.Location>(location, isCascaded);
        }
        public void DeleteLSP(DSS2_SynchromodalityCapacityOptimisation.BO.LSP lsp, bool doNotCallDeleteForThis = false, bool isCascaded = false, object calledBy = null)
        {
            if(lsp == null || lsp.IsTransient()) return;
            foreach (var toDissasociate in lsp.PrivateTemplates)
            {
                lsp.RemovePrivateTemplates(toDissasociate);
            }
            foreach (var toDelete in lsp.WorkContracts)
            {
                lsp.RemoveWorkContracts(toDelete);
                DeleteWorkContract(toDelete, false, isCascaded);
            }
            foreach (var toDelete in lsp.LSPUsers)
            {
                lsp.RemoveLSPUsers(toDelete);
                DeleteLSPUser(toDelete, false, isCascaded);
            }
            foreach (var toDissasociate in this.Get<DSS2_SynchromodalityCapacityOptimisation.BO.ScheduledRouteTemplate>(ap=> ap.OwnerLSP == lsp))
            {
                toDissasociate.OwnerLSP = null;
            }
            if (!doNotCallDeleteForThis) Delete<DSS2_SynchromodalityCapacityOptimisation.BO.LSP>(lsp, isCascaded);
        }
        public void DeleteLSPUser(DSS2_SynchromodalityCapacityOptimisation.BO.LSPUser lspuser, bool doNotCallDeleteForThis = false, bool isCascaded = false, object calledBy = null)
        {
            if(lspuser == null || lspuser.IsTransient()) return;
            foreach (var toDelete in lspuser.Clients)
            {
                lspuser.RemoveClients(toDelete);
                DeleteApplicationClient(toDelete, false, isCascaded);
            }
            lspuser.LSP = null;
            foreach (var toDelete in lspuser.Logins)
            {
                lspuser.RemoveLogins(toDelete);
                DeleteApplicationUserLogin(toDelete, false, isCascaded);
            }
            foreach (var toDelete in lspuser.Claims)
            {
                lspuser.RemoveClaims(toDelete);
                DeleteApplicationUserClaim(toDelete, false, isCascaded);
            }
            foreach (var toDissasociate in lspuser.Permissions)
            {
                lspuser.RemovePermissions(toDissasociate);
            }
            if (lspuser.Profile != null)
            {
                var toDelete = lspuser.Profile;
                lspuser.Profile = null;
                DeleteProfile(toDelete, false, isCascaded, lspuser);
            }
            foreach (var toDissasociate in lspuser.Roles)
            {
                lspuser.RemoveRoles(toDissasociate);
            }
            if (!doNotCallDeleteForThis) Delete<DSS2_SynchromodalityCapacityOptimisation.BO.LSPUser>(lspuser, isCascaded);
        }
        public void DeleteMapPoints(DSS2_SynchromodalityCapacityOptimisation.BO.MapPoints mappoints, bool doNotCallDeleteForThis = false, bool isCascaded = false, object calledBy = null)
        {
            if(mappoints == null || mappoints.IsTransient()) return;
            if (!doNotCallDeleteForThis) Delete<DSS2_SynchromodalityCapacityOptimisation.BO.MapPoints>(mappoints, isCascaded);
        }
        public void DeleteMinimumQuantity(DSS2_SynchromodalityCapacityOptimisation.BO.MinimumQuantity minimumquantity, bool doNotCallDeleteForThis = false, bool isCascaded = false, object calledBy = null)
        {
            if(minimumquantity == null || minimumquantity.IsTransient()) return;
            minimumquantity.Item = null;
            minimumquantity.Supplier = null;
            if (!doNotCallDeleteForThis) Delete<DSS2_SynchromodalityCapacityOptimisation.BO.MinimumQuantity>(minimumquantity, isCascaded);
        }
        public void DeleteNotification(DSS2_SynchromodalityCapacityOptimisation.BO.Notification notification, bool doNotCallDeleteForThis = false, bool isCascaded = false, object calledBy = null)
        {
            if(notification == null || notification.IsTransient()) return;
            notification.Warehouse = null;
            notification.Item = null;
            notification.OrderForecastDetails = null;
            if (!doNotCallDeleteForThis) Delete<DSS2_SynchromodalityCapacityOptimisation.BO.Notification>(notification, isCascaded);
        }
        public void DeleteOilType(DSS2_SynchromodalityCapacityOptimisation.BO.OilType oiltype, bool doNotCallDeleteForThis = false, bool isCascaded = false, object calledBy = null)
        {
            if(oiltype == null || oiltype.IsTransient()) return;
            foreach (var toDissasociate in this.Get<DSS2_SynchromodalityCapacityOptimisation.BO.PropulsionTypeCost>(ap=> ap.OilType == oiltype))
            {
                toDissasociate.OilType = null;
            }
            if (!doNotCallDeleteForThis) Delete<DSS2_SynchromodalityCapacityOptimisation.BO.OilType>(oiltype, isCascaded);
        }
        public void DeleteOrderFDashboard(DSS2_SynchromodalityCapacityOptimisation.BO.OrderFDashboard orderfdashboard, bool doNotCallDeleteForThis = false, bool isCascaded = false, object calledBy = null)
        {
            if(orderfdashboard == null || orderfdashboard.IsTransient()) return;
            foreach (var toDissasociate in orderfdashboard.OrderForecastStatistics)
            {
                orderfdashboard.RemoveOrderForecastStatistics(toDissasociate);
            }
            if (!doNotCallDeleteForThis) Delete<DSS2_SynchromodalityCapacityOptimisation.BO.OrderFDashboard>(orderfdashboard, isCascaded);
        }
        public void DeleteOrderForecast(DSS2_SynchromodalityCapacityOptimisation.BO.OrderForecast orderforecast, bool doNotCallDeleteForThis = false, bool isCascaded = false, object calledBy = null)
        {
            if(orderforecast == null || orderforecast.IsTransient()) return;
            foreach (var toDissasociate in orderforecast.ItemParameters)
            {
                orderforecast.RemoveItemParameters(toDissasociate);
            }
            foreach (var toDelete in orderforecast.OrderForecastDetails)
            {
                orderforecast.RemoveOrderForecastDetails(toDelete);
                DeleteOrderForecastDetails(toDelete, false, isCascaded);
            }
            foreach (var toDissasociate in orderforecast.SupplierParameters)
            {
                orderforecast.RemoveSupplierParameters(toDissasociate);
            }
            orderforecast.SalesForecast = null;
            if (!doNotCallDeleteForThis) Delete<DSS2_SynchromodalityCapacityOptimisation.BO.OrderForecast>(orderforecast, isCascaded);
        }
        public void DeleteOrderForecastDetails(DSS2_SynchromodalityCapacityOptimisation.BO.OrderForecastDetails orderforecastdetails, bool doNotCallDeleteForThis = false, bool isCascaded = false, object calledBy = null)
        {
            if(orderforecastdetails == null || orderforecastdetails.IsTransient()) return;
            orderforecastdetails.OrderForecast = null;
            orderforecastdetails.Warehouse = null;
            if (orderforecastdetails.Notification != null)
            {
                var toDelete = orderforecastdetails.Notification;
                orderforecastdetails.Notification.OrderForecastDetails = null;
                orderforecastdetails.Notification = null;
                DeleteNotification(toDelete, false, isCascaded, orderforecastdetails);
            }
            orderforecastdetails.Item = null;
            foreach (var toDissasociate in orderforecastdetails.Comments)
            {
                orderforecastdetails.RemoveComments(toDissasociate);
            }
            if (!doNotCallDeleteForThis) Delete<DSS2_SynchromodalityCapacityOptimisation.BO.OrderForecastDetails>(orderforecastdetails, isCascaded);
        }
        public void DeleteOrderForecastStatistic(DSS2_SynchromodalityCapacityOptimisation.BO.OrderForecastStatistic orderforecaststatistic, bool doNotCallDeleteForThis = false, bool isCascaded = false, object calledBy = null)
        {
            if(orderforecaststatistic == null || orderforecaststatistic.IsTransient()) return;
            orderforecaststatistic.Warehouse = null;
            orderforecaststatistic.Item = null;
            foreach (var toDissasociate in this.Get<DSS2_SynchromodalityCapacityOptimisation.BO.OrderFDashboard>(ap=> ap.OrderForecastStatistics.Contains(orderforecaststatistic)))
            {
                toDissasociate.RemoveOrderForecastStatistics(orderforecaststatistic);
            }
            if (!doNotCallDeleteForThis) Delete<DSS2_SynchromodalityCapacityOptimisation.BO.OrderForecastStatistic>(orderforecaststatistic, isCascaded);
        }
        public void DeleteOrdersPerMonth(DSS2_SynchromodalityCapacityOptimisation.BO.OrdersPerMonth orderspermonth, bool doNotCallDeleteForThis = false, bool isCascaded = false, object calledBy = null)
        {
            if(orderspermonth == null || orderspermonth.IsTransient()) return;
            if (!doNotCallDeleteForThis) Delete<DSS2_SynchromodalityCapacityOptimisation.BO.OrdersPerMonth>(orderspermonth, isCascaded);
        }
        public void DeleteOrderStatistics(DSS2_SynchromodalityCapacityOptimisation.BO.OrderStatistics orderstatistics, bool doNotCallDeleteForThis = false, bool isCascaded = false, object calledBy = null)
        {
            if(orderstatistics == null || orderstatistics.IsTransient()) return;
            if (!doNotCallDeleteForThis) Delete<DSS2_SynchromodalityCapacityOptimisation.BO.OrderStatistics>(orderstatistics, isCascaded);
        }
        public void DeleteOrderWMS(DSS2_SynchromodalityCapacityOptimisation.BO.OrderWMS orderwms, bool doNotCallDeleteForThis = false, bool isCascaded = false, object calledBy = null)
        {
            if(orderwms == null || orderwms.IsTransient()) return;
            orderwms.ProofOfDelivery = null;
            if (!doNotCallDeleteForThis) Delete<DSS2_SynchromodalityCapacityOptimisation.BO.OrderWMS>(orderwms, isCascaded);
        }
        public void DeleteOwnershipCost(DSS2_SynchromodalityCapacityOptimisation.BO.OwnershipCost ownershipcost, bool doNotCallDeleteForThis = false, bool isCascaded = false, object calledBy = null)
        {
            if(ownershipcost == null || ownershipcost.IsTransient()) return;
            ownershipcost.Vehicule = null;
            if (!doNotCallDeleteForThis) Delete<DSS2_SynchromodalityCapacityOptimisation.BO.OwnershipCost>(ownershipcost, isCascaded);
        }
        public void DeletePastOrder(DSS2_SynchromodalityCapacityOptimisation.BO.PastOrder pastorder, bool doNotCallDeleteForThis = false, bool isCascaded = false, object calledBy = null)
        {
            if(pastorder == null || pastorder.IsTransient()) return;
            pastorder.Item = null;
            pastorder.Warehouse = null;
            if (!doNotCallDeleteForThis) Delete<DSS2_SynchromodalityCapacityOptimisation.BO.PastOrder>(pastorder, isCascaded);
        }
        public void DeletePastSales(DSS2_SynchromodalityCapacityOptimisation.BO.PastSales pastsales, bool doNotCallDeleteForThis = false, bool isCascaded = false, object calledBy = null)
        {
            if(pastsales == null || pastsales.IsTransient()) return;
            pastsales.Item = null;
            pastsales.Warehouse = null;
            if (!doNotCallDeleteForThis) Delete<DSS2_SynchromodalityCapacityOptimisation.BO.PastSales>(pastsales, isCascaded);
        }
        public void DeletePathVolumeDetail(DSS2_SynchromodalityCapacityOptimisation.BO.PathVolumeDetail pathvolumedetail, bool doNotCallDeleteForThis = false, bool isCascaded = false, object calledBy = null)
        {
            if(pathvolumedetail == null || pathvolumedetail.IsTransient()) return;
            foreach (var toDissasociate in pathvolumedetail.Legs)
            {
                pathvolumedetail.RemoveLegs(toDissasociate);
            }
            pathvolumedetail.Shipment = null;
            if (!doNotCallDeleteForThis) Delete<DSS2_SynchromodalityCapacityOptimisation.BO.PathVolumeDetail>(pathvolumedetail, isCascaded);
        }
        public void DeletePlatform(DSS2_SynchromodalityCapacityOptimisation.BO.Platform platform, bool doNotCallDeleteForThis = false, bool isCascaded = false, object calledBy = null)
        {
            if(platform == null || platform.IsTransient()) return;
            platform.Item = null;
            platform.Warehouse = null;
            if (!doNotCallDeleteForThis) Delete<DSS2_SynchromodalityCapacityOptimisation.BO.Platform>(platform, isCascaded);
        }
        public void DeletePoint(DSS2_SynchromodalityCapacityOptimisation.BO.Point point, bool doNotCallDeleteForThis = false, bool isCascaded = false, object calledBy = null)
        {
            if(point == null || point.IsTransient()) return;
            foreach (var toDissasociate in this.Get<DSS2_SynchromodalityCapacityOptimisation.BO.Shipment>(ap=> ap.Path.Contains(point)))
            {
                toDissasociate.RemovePath(point);
            }
            if (!doNotCallDeleteForThis) Delete<DSS2_SynchromodalityCapacityOptimisation.BO.Point>(point, isCascaded);
        }
        public void DeletePriority(DSS2_SynchromodalityCapacityOptimisation.BO.Priority priority, bool doNotCallDeleteForThis = false, bool isCascaded = false, object calledBy = null)
        {
            if(priority == null || priority.IsTransient()) return;
            if (!doNotCallDeleteForThis) Delete<DSS2_SynchromodalityCapacityOptimisation.BO.Priority>(priority, isCascaded);
        }
        public void DeleteProfile(zAppDev.DotNet.Framework.Identity.Model.Profile profile, bool doNotCallDeleteForThis = false, bool isCascaded = false, object calledBy = null)
        {
            if(profile == null || profile.IsTransient()) return;
            foreach (var toDelete in profile.Settings)
            {
                profile.RemoveSettings(toDelete);
                DeleteProfileSetting(toDelete, false, isCascaded);
            }
            var _ApplicationUserApplicationUserProfilecount = this.Get<zAppDev.DotNet.Framework.Identity.Model.ApplicationUser>(ap=> ap.Profile == profile).Count;
            if (
                (calledBy != null)
                &&
                (
                    (calledBy.GetType() == typeof(zAppDev.DotNet.Framework.Identity.Model.ApplicationUser) || calledBy.GetType().FullName == "ApplicationUserProxy")  ||
                    (calledBy.GetType() == typeof(DSS2_SynchromodalityCapacityOptimisation.BO.Driver) || calledBy.GetType().FullName == "DriverProxy")  ||
                    (calledBy.GetType() == typeof(DSS2_SynchromodalityCapacityOptimisation.BO.LSPUser) || calledBy.GetType().FullName == "LSPUserProxy")  ||
                    (calledBy.GetType() == typeof(DSS2_SynchromodalityCapacityOptimisation.BO.RegionalAgentUser) || calledBy.GetType().FullName == "RegionalAgentUserProxy")  ||
                    (calledBy.GetType() == typeof(DSS2_SynchromodalityCapacityOptimisation.BO.TruckDriver) || calledBy.GetType().FullName == "TruckDriverProxy")  ||
                    (calledBy.GetType() == typeof(DSS2_SynchromodalityCapacityOptimisation.BO.Contact) || calledBy.GetType().FullName == "ContactProxy")
                )
            ) _ApplicationUserApplicationUserProfilecount--;
            if (_ApplicationUserApplicationUserProfilecount > 0)
            {
                var cs = new System.Data.ConstraintException("At least one ApplicationUser exists so Profile cannot be deleted");
                cs.Data["Entity"] = "ApplicationUser";
                cs.Data["PropertyName"] = "Profile";
                cs.Data["Multiplicity"] = "0..1";
                throw cs;
            }
            if (!doNotCallDeleteForThis) Delete<zAppDev.DotNet.Framework.Identity.Model.Profile>(profile, isCascaded);
        }
        public void DeleteProfileSetting(zAppDev.DotNet.Framework.Identity.Model.ProfileSetting profilesetting, bool doNotCallDeleteForThis = false, bool isCascaded = false, object calledBy = null)
        {
            if(profilesetting == null || profilesetting.IsTransient()) return;
            profilesetting.ParentProfile = null;
            if (!doNotCallDeleteForThis) Delete<zAppDev.DotNet.Framework.Identity.Model.ProfileSetting>(profilesetting, isCascaded);
        }
        public void DeleteProofOfDelivery(DSS2_SynchromodalityCapacityOptimisation.BO.ProofOfDelivery proofofdelivery, bool doNotCallDeleteForThis = false, bool isCascaded = false, object calledBy = null)
        {
            if(proofofdelivery == null || proofofdelivery.IsTransient()) return;
            proofofdelivery.TruckDriver = null;
            proofofdelivery.OrderWMS = null;
            if (!doNotCallDeleteForThis) Delete<DSS2_SynchromodalityCapacityOptimisation.BO.ProofOfDelivery>(proofofdelivery, isCascaded);
        }
        public void DeletePropulsionTypeCost(DSS2_SynchromodalityCapacityOptimisation.BO.PropulsionTypeCost propulsiontypecost, bool doNotCallDeleteForThis = false, bool isCascaded = false, object calledBy = null)
        {
            if(propulsiontypecost == null || propulsiontypecost.IsTransient()) return;
            propulsiontypecost.OilType = null;
            foreach (var toDissasociate in this.Get<DSS2_SynchromodalityCapacityOptimisation.BO.DistanceCosts>(ap=> ap.PropulsionTypeCost.Contains(propulsiontypecost)))
            {
                toDissasociate.RemovePropulsionTypeCost(propulsiontypecost);
            }
            if (!doNotCallDeleteForThis) Delete<DSS2_SynchromodalityCapacityOptimisation.BO.PropulsionTypeCost>(propulsiontypecost, isCascaded);
        }
        public void DeleteReason(DSS2_SynchromodalityCapacityOptimisation.BO.Reason reason, bool doNotCallDeleteForThis = false, bool isCascaded = false, object calledBy = null)
        {
            if(reason == null || reason.IsTransient()) return;
            if (!doNotCallDeleteForThis) Delete<DSS2_SynchromodalityCapacityOptimisation.BO.Reason>(reason, isCascaded);
        }
        public void DeleteRegionalAgent(DSS2_SynchromodalityCapacityOptimisation.BO.RegionalAgent regionalagent, bool doNotCallDeleteForThis = false, bool isCascaded = false, object calledBy = null)
        {
            if(regionalagent == null || regionalagent.IsTransient()) return;
            if (regionalagent.AreaSupport.Count > 0)
            {
                var cs = new System.Data.ConstraintException("regionalagent.AreaSupport elements are restricted and cannot be deleted");
                cs.Data["Entity"] = "RegionalAgent";
                cs.Data["PropertyName"] = "AreaSupport";
                cs.Data["Multiplicity"] = "*";
                throw cs;
            }
            foreach (var toDissasociate in regionalagent.Trucks)
            {
                regionalagent.RemoveTrucks(toDissasociate);
            }
            foreach (var toDelete in regionalagent.RAUsers)
            {
                regionalagent.RemoveRAUsers(toDelete);
                DeleteRegionalAgentUser(toDelete, false, isCascaded);
            }
            if (regionalagent.ScheduledRouteTemplates.Count > 0)
            {
                var cs = new System.Data.ConstraintException("regionalagent.ScheduledRouteTemplates elements are restricted and cannot be deleted");
                cs.Data["Entity"] = "RegionalAgent";
                cs.Data["PropertyName"] = "ScheduledRouteTemplates";
                cs.Data["Multiplicity"] = "*";
                throw cs;
            }
            foreach (var toDissasociate in this.Get<DSS2_SynchromodalityCapacityOptimisation.BO.ScheduledRouteTemplate>(ap=> ap.VisibleToRAs.Contains(regionalagent)))
            {
                toDissasociate.RemoveVisibleToRAs(regionalagent);
            }
            if (regionalagent.AddressCoordinates != null)
            {
                var cs = new System.Data.ConstraintException("regionalagent.AddressCoordinates is restricted and cannot be deleted");
                cs.Data["Entity"] = "RegionalAgent";
                cs.Data["PropertyName"] = "AddressCoordinates";
                cs.Data["Multiplicity"] = "0..1";
                throw cs;
            }
            foreach (var toDelete in regionalagent.WorkContract)
            {
                regionalagent.RemoveWorkContract(toDelete);
                DeleteWorkContract(toDelete, false, isCascaded);
            }
            foreach (var toDissasociate in regionalagent.WarehousesSupport)
            {
                regionalagent.RemoveWarehousesSupport(toDissasociate);
            }
            if (!doNotCallDeleteForThis) Delete<DSS2_SynchromodalityCapacityOptimisation.BO.RegionalAgent>(regionalagent, isCascaded);
        }
        public void DeleteRegionalAgentUser(DSS2_SynchromodalityCapacityOptimisation.BO.RegionalAgentUser regionalagentuser, bool doNotCallDeleteForThis = false, bool isCascaded = false, object calledBy = null)
        {
            if(regionalagentuser == null || regionalagentuser.IsTransient()) return;
            foreach (var toDelete in regionalagentuser.Clients)
            {
                regionalagentuser.RemoveClients(toDelete);
                DeleteApplicationClient(toDelete, false, isCascaded);
            }
            regionalagentuser.RegionalAgent = null;
            foreach (var toDelete in regionalagentuser.Logins)
            {
                regionalagentuser.RemoveLogins(toDelete);
                DeleteApplicationUserLogin(toDelete, false, isCascaded);
            }
            foreach (var toDelete in regionalagentuser.Claims)
            {
                regionalagentuser.RemoveClaims(toDelete);
                DeleteApplicationUserClaim(toDelete, false, isCascaded);
            }
            foreach (var toDissasociate in regionalagentuser.Permissions)
            {
                regionalagentuser.RemovePermissions(toDissasociate);
            }
            if (regionalagentuser.Profile != null)
            {
                var toDelete = regionalagentuser.Profile;
                regionalagentuser.Profile = null;
                DeleteProfile(toDelete, false, isCascaded, regionalagentuser);
            }
            foreach (var toDissasociate in regionalagentuser.Roles)
            {
                regionalagentuser.RemoveRoles(toDissasociate);
            }
            if (!doNotCallDeleteForThis) Delete<DSS2_SynchromodalityCapacityOptimisation.BO.RegionalAgentUser>(regionalagentuser, isCascaded);
        }
        public void DeleteResponse(DSS2_SynchromodalityCapacityOptimisation.BO.Response response, bool doNotCallDeleteForThis = false, bool isCascaded = false, object calledBy = null)
        {
            if(response == null || response.IsTransient()) return;
            if (!doNotCallDeleteForThis) Delete<DSS2_SynchromodalityCapacityOptimisation.BO.Response>(response, isCascaded);
        }
        public void DeleteRetailer(DSS2_SynchromodalityCapacityOptimisation.BO.Retailer retailer, bool doNotCallDeleteForThis = false, bool isCascaded = false, object calledBy = null)
        {
            if(retailer == null || retailer.IsTransient()) return;
            foreach (var toDissasociate in retailer.Contacts)
            {
                retailer.RemoveContacts(toDissasociate);
            }
            if (!doNotCallDeleteForThis) Delete<DSS2_SynchromodalityCapacityOptimisation.BO.Retailer>(retailer, isCascaded);
        }
        public void DeleteRoute(DSS2_SynchromodalityCapacityOptimisation.BO.Route route, bool doNotCallDeleteForThis = false, bool isCascaded = false, object calledBy = null)
        {
            if(route == null || route.IsTransient()) return;
            foreach (var toDissasociate in route.Activities)
            {
                route.RemoveActivities(toDissasociate);
            }
            route.Vehicule = null;
            foreach (var toDissasociate in this.Get<DSS2_SynchromodalityCapacityOptimisation.BO.Solution>(ap=> ap.Routes.Contains(route)))
            {
                toDissasociate.RemoveRoutes(route);
            }
            if (!doNotCallDeleteForThis) Delete<DSS2_SynchromodalityCapacityOptimisation.BO.Route>(route, isCascaded);
        }
        public void DeleteSales(DSS2_SynchromodalityCapacityOptimisation.BO.Sales sales, bool doNotCallDeleteForThis = false, bool isCascaded = false, object calledBy = null)
        {
            if(sales == null || sales.IsTransient()) return;
            sales.Item = null;
            sales.Warehouse = null;
            if (!doNotCallDeleteForThis) Delete<DSS2_SynchromodalityCapacityOptimisation.BO.Sales>(sales, isCascaded);
        }
        public void DeleteSalesForecast(DSS2_SynchromodalityCapacityOptimisation.BO.SalesForecast salesforecast, bool doNotCallDeleteForThis = false, bool isCascaded = false, object calledBy = null)
        {
            if(salesforecast == null || salesforecast.IsTransient()) return;
            if (salesforecast.OrderForecasts.Count > 0)
            {
                var cs = new System.Data.ConstraintException("salesforecast.OrderForecasts elements are restricted and cannot be deleted");
                cs.Data["Entity"] = "SalesForecast";
                cs.Data["PropertyName"] = "OrderForecasts";
                cs.Data["Multiplicity"] = "*";
                throw cs;
            }
            foreach (var toDelete in salesforecast.SalesForecastDetails)
            {
                salesforecast.RemoveSalesForecastDetails(toDelete);
                DeleteSalesForecastDetails(toDelete, false, isCascaded);
            }
            if (!doNotCallDeleteForThis) Delete<DSS2_SynchromodalityCapacityOptimisation.BO.SalesForecast>(salesforecast, isCascaded);
        }
        public void DeleteSalesForecastDetails(DSS2_SynchromodalityCapacityOptimisation.BO.SalesForecastDetails salesforecastdetails, bool doNotCallDeleteForThis = false, bool isCascaded = false, object calledBy = null)
        {
            if(salesforecastdetails == null || salesforecastdetails.IsTransient()) return;
            salesforecastdetails.Item = null;
            salesforecastdetails.SalesForecast = null;
            salesforecastdetails.Warehouse = null;
            if (!doNotCallDeleteForThis) Delete<DSS2_SynchromodalityCapacityOptimisation.BO.SalesForecastDetails>(salesforecastdetails, isCascaded);
        }
        public void DeleteScheduledRoute(DSS2_SynchromodalityCapacityOptimisation.BO.ScheduledRoute scheduledroute, bool doNotCallDeleteForThis = false, bool isCascaded = false, object calledBy = null)
        {
            if(scheduledroute == null || scheduledroute.IsTransient()) return;
            scheduledroute.WorkContract = null;
            if (!doNotCallDeleteForThis) Delete<DSS2_SynchromodalityCapacityOptimisation.BO.ScheduledRoute>(scheduledroute, isCascaded);
        }
        public void DeleteScheduledRouteTemplate(DSS2_SynchromodalityCapacityOptimisation.BO.ScheduledRouteTemplate scheduledroutetemplate, bool doNotCallDeleteForThis = false, bool isCascaded = false, object calledBy = null)
        {
            if(scheduledroutetemplate == null || scheduledroutetemplate.IsTransient()) return;
            foreach (var toDissasociate in scheduledroutetemplate.VisibleTo)
            {
                scheduledroutetemplate.RemoveVisibleTo(toDissasociate);
            }
            scheduledroutetemplate.OwnerLSP = null;
            foreach (var toDissasociate in scheduledroutetemplate.VisibleToRAs)
            {
                scheduledroutetemplate.RemoveVisibleToRAs(toDissasociate);
            }
            scheduledroutetemplate.Owner = null;
            if (!doNotCallDeleteForThis) Delete<DSS2_SynchromodalityCapacityOptimisation.BO.ScheduledRouteTemplate>(scheduledroutetemplate, isCascaded);
        }
        public void DeleteShipment(DSS2_SynchromodalityCapacityOptimisation.BO.Shipment shipment, bool doNotCallDeleteForThis = false, bool isCascaded = false, object calledBy = null)
        {
            if(shipment == null || shipment.IsTransient()) return;
            shipment.OccupiedVolume = null;
            foreach (var toDissasociate in shipment.ShippingOrders)
            {
                shipment.RemoveShippingOrders(toDissasociate);
            }
            foreach (var toDissasociate in shipment.AcceptedConditions)
            {
                shipment.RemoveAcceptedConditions(toDissasociate);
            }
            shipment.DeparturePoint = null;
            shipment.VehiculeType = null;
            shipment.Driver = null;
            foreach (var toDissasociate in shipment.Path)
            {
                shipment.RemovePath(toDissasociate);
            }
            shipment.FinalDestination = null;
            foreach (var toDissasociate in this.Get<DSS2_SynchromodalityCapacityOptimisation.BO.PathVolumeDetail>(ap=> ap.Shipment == shipment))
            {
                toDissasociate.Shipment = null;
            }
            foreach (var toDissasociate in shipment.ShipmentStatus)
            {
                shipment.RemoveShipmentStatus(toDissasociate);
            }
            foreach (var toDissasociate in this.Get<DSS2_SynchromodalityCapacityOptimisation.BO.Route>(ap=> ap.Vehicule == shipment))
            {
                toDissasociate.Vehicule = null;
            }
            if (!doNotCallDeleteForThis) Delete<DSS2_SynchromodalityCapacityOptimisation.BO.Shipment>(shipment, isCascaded);
        }
        public void DeleteShipmentStatus(DSS2_SynchromodalityCapacityOptimisation.BO.ShipmentStatus shipmentstatus, bool doNotCallDeleteForThis = false, bool isCascaded = false, object calledBy = null)
        {
            if(shipmentstatus == null || shipmentstatus.IsTransient()) return;
            shipmentstatus.Status = null;
            foreach (var toDissasociate in this.Get<DSS2_SynchromodalityCapacityOptimisation.BO.Shipment>(ap=> ap.ShipmentStatus.Contains(shipmentstatus)))
            {
                toDissasociate.RemoveShipmentStatus(shipmentstatus);
            }
            if (!doNotCallDeleteForThis) Delete<DSS2_SynchromodalityCapacityOptimisation.BO.ShipmentStatus>(shipmentstatus, isCascaded);
        }
        public void DeleteShippingOrder(DSS2_SynchromodalityCapacityOptimisation.BO.ShippingOrder shippingorder, bool doNotCallDeleteForThis = false, bool isCascaded = false, object calledBy = null)
        {
            if(shippingorder == null || shippingorder.IsTransient()) return;
            shippingorder.Parent = null;
            foreach (var toDissasociate in this.Get<DSS2_SynchromodalityCapacityOptimisation.BO.Activity>(ap=> ap.Order == shippingorder))
            {
                toDissasociate.Order = null;
            }
            shippingorder.DeparturePoint = null;
            shippingorder.ArrivalPoint = null;
            foreach (var toDissasociate in this.Get<DSS2_SynchromodalityCapacityOptimisation.BO.CostSplit>(ap=> ap.Orders.Contains(shippingorder)))
            {
                toDissasociate.RemoveOrders(shippingorder);
            }
            foreach (var toDissasociate in shippingorder.Shipment)
            {
                shippingorder.RemoveShipment(toDissasociate);
            }
            shippingorder.ItemType = null;
            foreach (var toDissasociate in shippingorder.StatusEvolution)
            {
                shippingorder.RemoveStatusEvolution(toDissasociate);
            }
            foreach (var toDissasociate in this.Get<DSS2_SynchromodalityCapacityOptimisation.BO.ShippingOrder>(ap=> ap.Parent == shippingorder))
            {
                toDissasociate.Parent = null;
            }
            foreach (var toDissasociate in shippingorder.ActualVolume)
            {
                shippingorder.RemoveActualVolume(toDissasociate);
            }
            foreach (var toDissasociate in shippingorder.PlannedVolume)
            {
                shippingorder.RemovePlannedVolume(toDissasociate);
            }
            if (!doNotCallDeleteForThis) Delete<DSS2_SynchromodalityCapacityOptimisation.BO.ShippingOrder>(shippingorder, isCascaded);
        }
        public void DeleteSLADelivery(DSS2_SynchromodalityCapacityOptimisation.BO.SLADelivery sladelivery, bool doNotCallDeleteForThis = false, bool isCascaded = false, object calledBy = null)
        {
            if(sladelivery == null || sladelivery.IsTransient()) return;
            sladelivery.Item = null;
            sladelivery.Warehouse = null;
            if (!doNotCallDeleteForThis) Delete<DSS2_SynchromodalityCapacityOptimisation.BO.SLADelivery>(sladelivery, isCascaded);
        }
        public void DeleteSLALeadTime(DSS2_SynchromodalityCapacityOptimisation.BO.SLALeadTime slaleadtime, bool doNotCallDeleteForThis = false, bool isCascaded = false, object calledBy = null)
        {
            if(slaleadtime == null || slaleadtime.IsTransient()) return;
            slaleadtime.Item = null;
            slaleadtime.Warehouse = null;
            if (!doNotCallDeleteForThis) Delete<DSS2_SynchromodalityCapacityOptimisation.BO.SLALeadTime>(slaleadtime, isCascaded);
        }
        public void DeleteSLAStatistics(DSS2_SynchromodalityCapacityOptimisation.BO.SLAStatistics slastatistics, bool doNotCallDeleteForThis = false, bool isCascaded = false, object calledBy = null)
        {
            if(slastatistics == null || slastatistics.IsTransient()) return;
            slastatistics.Item = null;
            if (!doNotCallDeleteForThis) Delete<DSS2_SynchromodalityCapacityOptimisation.BO.SLAStatistics>(slastatistics, isCascaded);
        }
        public void DeleteSolution(DSS2_SynchromodalityCapacityOptimisation.BO.Solution solution, bool doNotCallDeleteForThis = false, bool isCascaded = false, object calledBy = null)
        {
            if(solution == null || solution.IsTransient()) return;
            foreach (var toDissasociate in solution.Routes)
            {
                solution.RemoveRoutes(toDissasociate);
            }
            if (!doNotCallDeleteForThis) Delete<DSS2_SynchromodalityCapacityOptimisation.BO.Solution>(solution, isCascaded);
        }
        public void DeleteStatePeriod(DSS2_SynchromodalityCapacityOptimisation.BO.StatePeriod stateperiod, bool doNotCallDeleteForThis = false, bool isCascaded = false, object calledBy = null)
        {
            if(stateperiod == null || stateperiod.IsTransient()) return;
            if (!doNotCallDeleteForThis) Delete<DSS2_SynchromodalityCapacityOptimisation.BO.StatePeriod>(stateperiod, isCascaded);
        }
        public void DeleteStatistics(DSS2_SynchromodalityCapacityOptimisation.BO.Statistics statistics, bool doNotCallDeleteForThis = false, bool isCascaded = false, object calledBy = null)
        {
            if(statistics == null || statistics.IsTransient()) return;
            statistics.Item = null;
            statistics.Supplier = null;
            statistics.Warehouse = null;
            foreach (var toDissasociate in this.Get<DSS2_SynchromodalityCapacityOptimisation.BO.Dashboard>(ap=> ap.Statistics.Contains(statistics)))
            {
                toDissasociate.RemoveStatistics(statistics);
            }
            if (!doNotCallDeleteForThis) Delete<DSS2_SynchromodalityCapacityOptimisation.BO.Statistics>(statistics, isCascaded);
        }
        public void DeleteStats(DSS2_SynchromodalityCapacityOptimisation.BO.Stats stats, bool doNotCallDeleteForThis = false, bool isCascaded = false, object calledBy = null)
        {
            if(stats == null || stats.IsTransient()) return;
            stats.Warehouse = null;
            stats.Item = null;
            if (!doNotCallDeleteForThis) Delete<DSS2_SynchromodalityCapacityOptimisation.BO.Stats>(stats, isCascaded);
        }
        public void DeleteStatus(DSS2_SynchromodalityCapacityOptimisation.BO.Status status, bool doNotCallDeleteForThis = false, bool isCascaded = false, object calledBy = null)
        {
            if(status == null || status.IsTransient()) return;
            foreach (var toDissasociate in this.Get<DSS2_SynchromodalityCapacityOptimisation.BO.StatusEvolution>(ap=> ap.Status == status))
            {
                toDissasociate.Status = null;
            }
            foreach (var toDissasociate in this.Get<DSS2_SynchromodalityCapacityOptimisation.BO.StatusRule>(ap=> ap.Status == status))
            {
                toDissasociate.Status = null;
            }
            foreach (var toDissasociate in this.Get<DSS2_SynchromodalityCapacityOptimisation.BO.ShipmentStatus>(ap=> ap.Status == status))
            {
                toDissasociate.Status = null;
            }
            foreach (var toDissasociate in this.Get<DSS2_SynchromodalityCapacityOptimisation.BO.StatusRule>(ap=> ap.ForcedStatus == status))
            {
                toDissasociate.ForcedStatus = null;
            }
            if (!doNotCallDeleteForThis) Delete<DSS2_SynchromodalityCapacityOptimisation.BO.Status>(status, isCascaded);
        }
        public void DeleteStatusEvolution(DSS2_SynchromodalityCapacityOptimisation.BO.StatusEvolution statusevolution, bool doNotCallDeleteForThis = false, bool isCascaded = false, object calledBy = null)
        {
            if(statusevolution == null || statusevolution.IsTransient()) return;
            statusevolution.Status = null;
            foreach (var toDissasociate in this.Get<DSS2_SynchromodalityCapacityOptimisation.BO.ShippingOrder>(ap=> ap.StatusEvolution.Contains(statusevolution)))
            {
                toDissasociate.RemoveStatusEvolution(statusevolution);
            }
            if (!doNotCallDeleteForThis) Delete<DSS2_SynchromodalityCapacityOptimisation.BO.StatusEvolution>(statusevolution, isCascaded);
        }
        public void DeleteStatusRule(DSS2_SynchromodalityCapacityOptimisation.BO.StatusRule statusrule, bool doNotCallDeleteForThis = false, bool isCascaded = false, object calledBy = null)
        {
            if(statusrule == null || statusrule.IsTransient()) return;
            statusrule.Status = null;
            statusrule.ForcedStatus = null;
            if (!doNotCallDeleteForThis) Delete<DSS2_SynchromodalityCapacityOptimisation.BO.StatusRule>(statusrule, isCascaded);
        }
        public void DeleteStockOnHand(DSS2_SynchromodalityCapacityOptimisation.BO.StockOnHand stockonhand, bool doNotCallDeleteForThis = false, bool isCascaded = false, object calledBy = null)
        {
            if(stockonhand == null || stockonhand.IsTransient()) return;
            stockonhand.Warehouse = null;
            stockonhand.Agreement = null;
            stockonhand.Item = null;
            if (!doNotCallDeleteForThis) Delete<DSS2_SynchromodalityCapacityOptimisation.BO.StockOnHand>(stockonhand, isCascaded);
        }
        public void DeleteStore(DSS2_SynchromodalityCapacityOptimisation.BO.Store store, bool doNotCallDeleteForThis = false, bool isCascaded = false, object calledBy = null)
        {
            if(store == null || store.IsTransient()) return;
            if (!doNotCallDeleteForThis) Delete<DSS2_SynchromodalityCapacityOptimisation.BO.Store>(store, isCascaded);
        }
        public void DeleteSubCategory(DSS2_SynchromodalityCapacityOptimisation.BO.SubCategory subcategory, bool doNotCallDeleteForThis = false, bool isCascaded = false, object calledBy = null)
        {
            if(subcategory == null || subcategory.IsTransient()) return;
            foreach (var toDissasociate in subcategory.BaseUnits)
            {
                subcategory.RemoveBaseUnits(toDissasociate);
            }
            subcategory.Category = null;
            foreach (var toDissasociate in this.Get<DSS2_SynchromodalityCapacityOptimisation.BO.Item>(ap=> ap.SubCategory == subcategory))
            {
                toDissasociate.SubCategory = null;
            }
            if (!doNotCallDeleteForThis) Delete<DSS2_SynchromodalityCapacityOptimisation.BO.SubCategory>(subcategory, isCascaded);
        }
        public void DeleteSupplier(DSS2_SynchromodalityCapacityOptimisation.BO.Supplier supplier, bool doNotCallDeleteForThis = false, bool isCascaded = false, object calledBy = null)
        {
            if(supplier == null || supplier.IsTransient()) return;
            foreach (var toDissasociate in this.Get<DSS2_SynchromodalityCapacityOptimisation.BO.Statistics>(ap=> ap.Supplier == supplier))
            {
                toDissasociate.Supplier = null;
            }
            supplier.BusinessUnit = null;
            foreach (var toDissasociate in this.Get<DSS2_SynchromodalityCapacityOptimisation.BO.DeliverySchedule>(ap=> ap.Supplier == supplier))
            {
                toDissasociate.Supplier = null;
            }
            foreach (var toDissasociate in this.Get<DSS2_SynchromodalityCapacityOptimisation.BO.Volume>(ap=> ap.Supplier == supplier))
            {
                toDissasociate.Supplier = null;
            }
            foreach (var toDissasociate in this.Get<DSS2_SynchromodalityCapacityOptimisation.BO.Item>(ap=> ap.Supplier == supplier))
            {
                toDissasociate.Supplier = null;
            }
            foreach (var toDissasociate in supplier.Contacts)
            {
                supplier.RemoveContacts(toDissasociate);
            }
            foreach (var toDissasociate in this.Get<DSS2_SynchromodalityCapacityOptimisation.BO.SupplierCapacity>(ap=> ap.Supplier == supplier))
            {
                toDissasociate.Supplier = null;
            }
            foreach (var toDissasociate in this.Get<DSS2_SynchromodalityCapacityOptimisation.BO.Agreement>(ap=> ap.Supplier == supplier))
            {
                toDissasociate.Supplier = null;
            }
            foreach (var toDissasociate in this.Get<DSS2_SynchromodalityCapacityOptimisation.BO.MinimumQuantity>(ap=> ap.Supplier == supplier))
            {
                toDissasociate.Supplier = null;
            }
            if (!doNotCallDeleteForThis) Delete<DSS2_SynchromodalityCapacityOptimisation.BO.Supplier>(supplier, isCascaded);
        }
        public void DeleteSupplierCapacity(DSS2_SynchromodalityCapacityOptimisation.BO.SupplierCapacity suppliercapacity, bool doNotCallDeleteForThis = false, bool isCascaded = false, object calledBy = null)
        {
            if(suppliercapacity == null || suppliercapacity.IsTransient()) return;
            suppliercapacity.Item = null;
            suppliercapacity.Supplier = null;
            if (!doNotCallDeleteForThis) Delete<DSS2_SynchromodalityCapacityOptimisation.BO.SupplierCapacity>(suppliercapacity, isCascaded);
        }
        public void DeleteSupplierParameter(DSS2_SynchromodalityCapacityOptimisation.BO.SupplierParameter supplierparameter, bool doNotCallDeleteForThis = false, bool isCascaded = false, object calledBy = null)
        {
            if(supplierparameter == null || supplierparameter.IsTransient()) return;
            supplierparameter.OrderForecast = null;
            supplierparameter.Agreement = null;
            if (!doNotCallDeleteForThis) Delete<DSS2_SynchromodalityCapacityOptimisation.BO.SupplierParameter>(supplierparameter, isCascaded);
        }
        public void DeletetblActivitiesAPI(DSS2_SynchromodalityCapacityOptimisation.BO.tblActivitiesAPI tblactivitiesapi, bool doNotCallDeleteForThis = false, bool isCascaded = false, object calledBy = null)
        {
            if(tblactivitiesapi == null || tblactivitiesapi.IsTransient()) return;
            foreach (var toDissasociate in this.Get<DSS2_SynchromodalityCapacityOptimisation.BO.tblRoutesAPI>(ap=> ap.tblActivitiesAPI == tblactivitiesapi))
            {
                toDissasociate.tblActivitiesAPI = null;
            }
            if (!doNotCallDeleteForThis) Delete<DSS2_SynchromodalityCapacityOptimisation.BO.tblActivitiesAPI>(tblactivitiesapi, isCascaded);
        }
        public void DeletetblDhlEvent(DSS2_SynchromodalityCapacityOptimisation.BO.tblDhlEvent tbldhlevent, bool doNotCallDeleteForThis = false, bool isCascaded = false, object calledBy = null)
        {
            if(tbldhlevent == null || tbldhlevent.IsTransient()) return;
            if (!doNotCallDeleteForThis) Delete<DSS2_SynchromodalityCapacityOptimisation.BO.tblDhlEvent>(tbldhlevent, isCascaded);
        }
        public void DeletetblDhlIncident(DSS2_SynchromodalityCapacityOptimisation.BO.tblDhlIncident tbldhlincident, bool doNotCallDeleteForThis = false, bool isCascaded = false, object calledBy = null)
        {
            if(tbldhlincident == null || tbldhlincident.IsTransient()) return;
            if (!doNotCallDeleteForThis) Delete<DSS2_SynchromodalityCapacityOptimisation.BO.tblDhlIncident>(tbldhlincident, isCascaded);
        }
        public void DeletetblDhlPlannedRoute(DSS2_SynchromodalityCapacityOptimisation.BO.tblDhlPlannedRoute tbldhlplannedroute, bool doNotCallDeleteForThis = false, bool isCascaded = false, object calledBy = null)
        {
            if(tbldhlplannedroute == null || tbldhlplannedroute.IsTransient()) return;
            foreach (var toDissasociate in this.Get<DSS2_SynchromodalityCapacityOptimisation.BO.tblDhlRouteStop>(ap=> ap.tblDhlPlannedRoute == tbldhlplannedroute))
            {
                toDissasociate.tblDhlPlannedRoute = null;
            }
            foreach (var toDissasociate in this.Get<DSS2_SynchromodalityCapacityOptimisation.BO.tblDhlTracking>(ap=> ap.tblDhlPlannedRoute == tbldhlplannedroute))
            {
                toDissasociate.tblDhlPlannedRoute = null;
            }
            if (!doNotCallDeleteForThis) Delete<DSS2_SynchromodalityCapacityOptimisation.BO.tblDhlPlannedRoute>(tbldhlplannedroute, isCascaded);
        }
        public void DeletetblDhlPurchase(DSS2_SynchromodalityCapacityOptimisation.BO.tblDhlPurchase tbldhlpurchase, bool doNotCallDeleteForThis = false, bool isCascaded = false, object calledBy = null)
        {
            if(tbldhlpurchase == null || tbldhlpurchase.IsTransient()) return;
            if (!doNotCallDeleteForThis) Delete<DSS2_SynchromodalityCapacityOptimisation.BO.tblDhlPurchase>(tbldhlpurchase, isCascaded);
        }
        public void DeletetblDhlRouteStop(DSS2_SynchromodalityCapacityOptimisation.BO.tblDhlRouteStop tbldhlroutestop, bool doNotCallDeleteForThis = false, bool isCascaded = false, object calledBy = null)
        {
            if(tbldhlroutestop == null || tbldhlroutestop.IsTransient()) return;
            tbldhlroutestop.tblDhlPlannedRoute = null;
            tbldhlroutestop.tblDhlRouteStopOperation = null;
            if (!doNotCallDeleteForThis) Delete<DSS2_SynchromodalityCapacityOptimisation.BO.tblDhlRouteStop>(tbldhlroutestop, isCascaded);
        }
        public void DeletetblDhlRouteStopOperation(DSS2_SynchromodalityCapacityOptimisation.BO.tblDhlRouteStopOperation tbldhlroutestopoperation, bool doNotCallDeleteForThis = false, bool isCascaded = false, object calledBy = null)
        {
            if(tbldhlroutestopoperation == null || tbldhlroutestopoperation.IsTransient()) return;
            foreach (var toDissasociate in this.Get<DSS2_SynchromodalityCapacityOptimisation.BO.tblDhlRouteStop>(ap=> ap.tblDhlRouteStopOperation == tbldhlroutestopoperation))
            {
                toDissasociate.tblDhlRouteStopOperation = null;
            }
            if (!doNotCallDeleteForThis) Delete<DSS2_SynchromodalityCapacityOptimisation.BO.tblDhlRouteStopOperation>(tbldhlroutestopoperation, isCascaded);
        }
        public void DeletetblDhlTracking(DSS2_SynchromodalityCapacityOptimisation.BO.tblDhlTracking tbldhltracking, bool doNotCallDeleteForThis = false, bool isCascaded = false, object calledBy = null)
        {
            if(tbldhltracking == null || tbldhltracking.IsTransient()) return;
            tbldhltracking.tblDhlPlannedRoute = null;
            if (!doNotCallDeleteForThis) Delete<DSS2_SynchromodalityCapacityOptimisation.BO.tblDhlTracking>(tbldhltracking, isCascaded);
        }
        public void DeletetblReceivedEvent(DSS2_SynchromodalityCapacityOptimisation.BO.tblReceivedEvent tblreceivedevent, bool doNotCallDeleteForThis = false, bool isCascaded = false, object calledBy = null)
        {
            if(tblreceivedevent == null || tblreceivedevent.IsTransient()) return;
            tblreceivedevent.tblReceivedPlannedTransport = null;
            if (!doNotCallDeleteForThis) Delete<DSS2_SynchromodalityCapacityOptimisation.BO.tblReceivedEvent>(tblreceivedevent, isCascaded);
        }
        public void DeletetblReceivedPlannedTransport(DSS2_SynchromodalityCapacityOptimisation.BO.tblReceivedPlannedTransport tblreceivedplannedtransport, bool doNotCallDeleteForThis = false, bool isCascaded = false, object calledBy = null)
        {
            if(tblreceivedplannedtransport == null || tblreceivedplannedtransport.IsTransient()) return;
            foreach (var toDissasociate in this.Get<DSS2_SynchromodalityCapacityOptimisation.BO.tblReceivedTrainStatus>(ap=> ap.tblReceivedPlannedTransport == tblreceivedplannedtransport))
            {
                toDissasociate.tblReceivedPlannedTransport = null;
            }
            foreach (var toDissasociate in this.Get<DSS2_SynchromodalityCapacityOptimisation.BO.tblReceivedEvent>(ap=> ap.tblReceivedPlannedTransport == tblreceivedplannedtransport))
            {
                toDissasociate.tblReceivedPlannedTransport = null;
            }
            foreach (var toDissasociate in this.Get<DSS2_SynchromodalityCapacityOptimisation.BO.tblReceivedTransportStop>(ap=> ap.tblReceivedPlannedTransport == tblreceivedplannedtransport))
            {
                toDissasociate.tblReceivedPlannedTransport = null;
            }
            if (!doNotCallDeleteForThis) Delete<DSS2_SynchromodalityCapacityOptimisation.BO.tblReceivedPlannedTransport>(tblreceivedplannedtransport, isCascaded);
        }
        public void DeletetblReceivedTrainStatus(DSS2_SynchromodalityCapacityOptimisation.BO.tblReceivedTrainStatus tblreceivedtrainstatus, bool doNotCallDeleteForThis = false, bool isCascaded = false, object calledBy = null)
        {
            if(tblreceivedtrainstatus == null || tblreceivedtrainstatus.IsTransient()) return;
            tblreceivedtrainstatus.tblReceivedPlannedTransport = null;
            if (!doNotCallDeleteForThis) Delete<DSS2_SynchromodalityCapacityOptimisation.BO.tblReceivedTrainStatus>(tblreceivedtrainstatus, isCascaded);
        }
        public void DeletetblReceivedTransportStop(DSS2_SynchromodalityCapacityOptimisation.BO.tblReceivedTransportStop tblreceivedtransportstop, bool doNotCallDeleteForThis = false, bool isCascaded = false, object calledBy = null)
        {
            if(tblreceivedtransportstop == null || tblreceivedtransportstop.IsTransient()) return;
            tblreceivedtransportstop.tblReceivedPlannedTransport = null;
            foreach (var toDissasociate in this.Get<DSS2_SynchromodalityCapacityOptimisation.BO.tblReceivedTransportStopVehicle>(ap=> ap.tblReceivedTransportStop == tblreceivedtransportstop))
            {
                toDissasociate.tblReceivedTransportStop = null;
            }
            if (!doNotCallDeleteForThis) Delete<DSS2_SynchromodalityCapacityOptimisation.BO.tblReceivedTransportStop>(tblreceivedtransportstop, isCascaded);
        }
        public void DeletetblReceivedTransportStopVehicle(DSS2_SynchromodalityCapacityOptimisation.BO.tblReceivedTransportStopVehicle tblreceivedtransportstopvehicle, bool doNotCallDeleteForThis = false, bool isCascaded = false, object calledBy = null)
        {
            if(tblreceivedtransportstopvehicle == null || tblreceivedtransportstopvehicle.IsTransient()) return;
            tblreceivedtransportstopvehicle.tblReceivedTransportStop = null;
            if (!doNotCallDeleteForThis) Delete<DSS2_SynchromodalityCapacityOptimisation.BO.tblReceivedTransportStopVehicle>(tblreceivedtransportstopvehicle, isCascaded);
        }
        public void DeletetblRoutesAPI(DSS2_SynchromodalityCapacityOptimisation.BO.tblRoutesAPI tblroutesapi, bool doNotCallDeleteForThis = false, bool isCascaded = false, object calledBy = null)
        {
            if(tblroutesapi == null || tblroutesapi.IsTransient()) return;
            tblroutesapi.tblActivitiesAPI = null;
            foreach (var toDissasociate in this.Get<DSS2_SynchromodalityCapacityOptimisation.BO.tblSolutionsAPI>(ap=> ap.tblRoutesAPI == tblroutesapi))
            {
                toDissasociate.tblRoutesAPI = null;
            }
            if (!doNotCallDeleteForThis) Delete<DSS2_SynchromodalityCapacityOptimisation.BO.tblRoutesAPI>(tblroutesapi, isCascaded);
        }
        public void DeletetblSolutionsAPI(DSS2_SynchromodalityCapacityOptimisation.BO.tblSolutionsAPI tblsolutionsapi, bool doNotCallDeleteForThis = false, bool isCascaded = false, object calledBy = null)
        {
            if(tblsolutionsapi == null || tblsolutionsapi.IsTransient()) return;
            tblsolutionsapi.tblRoutesAPI = null;
            if (!doNotCallDeleteForThis) Delete<DSS2_SynchromodalityCapacityOptimisation.BO.tblSolutionsAPI>(tblsolutionsapi, isCascaded);
        }
        public void DeletetblZslBookingType(DSS2_SynchromodalityCapacityOptimisation.BO.tblZslBookingType tblzslbookingtype, bool doNotCallDeleteForThis = false, bool isCascaded = false, object calledBy = null)
        {
            if(tblzslbookingtype == null || tblzslbookingtype.IsTransient()) return;
            foreach (var toDissasociate in this.Get<DSS2_SynchromodalityCapacityOptimisation.BO.tblZslBookingType>(ap=> ap.BookingType == tblzslbookingtype))
            {
                toDissasociate.BookingType = null;
            }
            tblzslbookingtype.BookingType = null;
            foreach (var toDissasociate in this.Get<DSS2_SynchromodalityCapacityOptimisation.BO.tblZslPlatformBookingOrder>(ap=> ap.tblZslBookingType == tblzslbookingtype))
            {
                toDissasociate.tblZslBookingType = null;
            }
            if (!doNotCallDeleteForThis) Delete<DSS2_SynchromodalityCapacityOptimisation.BO.tblZslBookingType>(tblzslbookingtype, isCascaded);
        }
        public void DeletetblZslCarrier(DSS2_SynchromodalityCapacityOptimisation.BO.tblZslCarrier tblzslcarrier, bool doNotCallDeleteForThis = false, bool isCascaded = false, object calledBy = null)
        {
            if(tblzslcarrier == null || tblzslcarrier.IsTransient()) return;
            foreach (var toDissasociate in this.Get<DSS2_SynchromodalityCapacityOptimisation.BO.tblZslCarrier>(ap=> ap.Carrier == tblzslcarrier))
            {
                toDissasociate.Carrier = null;
            }
            tblzslcarrier.Carrier = null;
            foreach (var toDissasociate in this.Get<DSS2_SynchromodalityCapacityOptimisation.BO.tblZslTransportExecutionPlan>(ap=> ap.tblZslCarrier == tblzslcarrier))
            {
                toDissasociate.tblZslCarrier = null;
            }
            if (!doNotCallDeleteForThis) Delete<DSS2_SynchromodalityCapacityOptimisation.BO.tblZslCarrier>(tblzslcarrier, isCascaded);
        }
        public void DeletetblZslCustomer(DSS2_SynchromodalityCapacityOptimisation.BO.tblZslCustomer tblzslcustomer, bool doNotCallDeleteForThis = false, bool isCascaded = false, object calledBy = null)
        {
            if(tblzslcustomer == null || tblzslcustomer.IsTransient()) return;
            foreach (var toDissasociate in this.Get<DSS2_SynchromodalityCapacityOptimisation.BO.tblZslPlatformBookingOrder>(ap=> ap.tblZslCustomer == tblzslcustomer))
            {
                toDissasociate.tblZslCustomer = null;
            }
            foreach (var toDissasociate in this.Get<DSS2_SynchromodalityCapacityOptimisation.BO.tblZslTransportDetail>(ap=> ap.tblZslCustomer == tblzslcustomer))
            {
                toDissasociate.tblZslCustomer = null;
            }
            foreach (var toDissasociate in this.Get<DSS2_SynchromodalityCapacityOptimisation.BO.tblZslCustomer>(ap=> ap.Customer == tblzslcustomer))
            {
                toDissasociate.Customer = null;
            }
            foreach (var toDissasociate in this.Get<DSS2_SynchromodalityCapacityOptimisation.BO.tblZslTransportEvent>(ap=> ap.tblZslCustomer == tblzslcustomer))
            {
                toDissasociate.tblZslCustomer = null;
            }
            tblzslcustomer.Customer = null;
            foreach (var toDissasociate in this.Get<DSS2_SynchromodalityCapacityOptimisation.BO.tblZslTransportOrder>(ap=> ap.tblZslCustomer == tblzslcustomer))
            {
                toDissasociate.tblZslCustomer = null;
            }
            if (!doNotCallDeleteForThis) Delete<DSS2_SynchromodalityCapacityOptimisation.BO.tblZslCustomer>(tblzslcustomer, isCascaded);
        }
        public void DeletetblZslDeliveryStatus(DSS2_SynchromodalityCapacityOptimisation.BO.tblZslDeliveryStatus tblzsldeliverystatus, bool doNotCallDeleteForThis = false, bool isCascaded = false, object calledBy = null)
        {
            if(tblzsldeliverystatus == null || tblzsldeliverystatus.IsTransient()) return;
            foreach (var toDissasociate in this.Get<DSS2_SynchromodalityCapacityOptimisation.BO.tblZslDeliveryStatus>(ap=> ap.DeliveryStatus == tblzsldeliverystatus))
            {
                toDissasociate.DeliveryStatus = null;
            }
            tblzsldeliverystatus.DeliveryStatus = null;
            foreach (var toDissasociate in this.Get<DSS2_SynchromodalityCapacityOptimisation.BO.tblZslTransportExecutionPlan>(ap=> ap.tblZslDeliveryStatus == tblzsldeliverystatus))
            {
                toDissasociate.tblZslDeliveryStatus = null;
            }
            if (!doNotCallDeleteForThis) Delete<DSS2_SynchromodalityCapacityOptimisation.BO.tblZslDeliveryStatus>(tblzsldeliverystatus, isCascaded);
        }
        public void DeleteTblZslNormalisationSuggestion(DSS2_SynchromodalityCapacityOptimisation.BO.TblZslNormalisationSuggestion tblzslnormalisationsuggestion, bool doNotCallDeleteForThis = false, bool isCascaded = false, object calledBy = null)
        {
            if(tblzslnormalisationsuggestion == null || tblzslnormalisationsuggestion.IsTransient()) return;
            if (!doNotCallDeleteForThis) Delete<DSS2_SynchromodalityCapacityOptimisation.BO.TblZslNormalisationSuggestion>(tblzslnormalisationsuggestion, isCascaded);
        }
        public void DeletetblZslPlatformBookingOrder(DSS2_SynchromodalityCapacityOptimisation.BO.tblZslPlatformBookingOrder tblzslplatformbookingorder, bool doNotCallDeleteForThis = false, bool isCascaded = false, object calledBy = null)
        {
            if(tblzslplatformbookingorder == null || tblzslplatformbookingorder.IsTransient()) return;
            tblzslplatformbookingorder.tblZslTransportOrder = null;
            tblzslplatformbookingorder.PlatformBookingOrder = null;
            foreach (var toDissasociate in this.Get<DSS2_SynchromodalityCapacityOptimisation.BO.tblZslPlatformBookingOrder>(ap=> ap.PlatformBookingOrder == tblzslplatformbookingorder))
            {
                toDissasociate.PlatformBookingOrder = null;
            }
            tblzslplatformbookingorder.tblZslBookingType = null;
            foreach (var toDissasociate in this.Get<DSS2_SynchromodalityCapacityOptimisation.BO.tblZslTransportDetail>(ap=> ap.tblZslPlatformBookingOrder == tblzslplatformbookingorder))
            {
                toDissasociate.tblZslPlatformBookingOrder = null;
            }
            tblzslplatformbookingorder.tblZslCustomer = null;
            foreach (var toDissasociate in this.Get<DSS2_SynchromodalityCapacityOptimisation.BO.tblZslTransportExecutionPlan>(ap=> ap.tblZslPlatformBookingOrder == tblzslplatformbookingorder))
            {
                toDissasociate.tblZslPlatformBookingOrder = null;
            }
            if (!doNotCallDeleteForThis) Delete<DSS2_SynchromodalityCapacityOptimisation.BO.tblZslPlatformBookingOrder>(tblzslplatformbookingorder, isCascaded);
        }
        public void DeletetblZslRoute(DSS2_SynchromodalityCapacityOptimisation.BO.tblZslRoute tblzslroute, bool doNotCallDeleteForThis = false, bool isCascaded = false, object calledBy = null)
        {
            if(tblzslroute == null || tblzslroute.IsTransient()) return;
            tblzslroute.Route = null;
            foreach (var toDissasociate in this.Get<DSS2_SynchromodalityCapacityOptimisation.BO.tblZslRoute>(ap=> ap.Route == tblzslroute))
            {
                toDissasociate.Route = null;
            }
            if (!doNotCallDeleteForThis) Delete<DSS2_SynchromodalityCapacityOptimisation.BO.tblZslRoute>(tblzslroute, isCascaded);
        }
        public void DeletetblZslTransportDetail(DSS2_SynchromodalityCapacityOptimisation.BO.tblZslTransportDetail tblzsltransportdetail, bool doNotCallDeleteForThis = false, bool isCascaded = false, object calledBy = null)
        {
            if(tblzsltransportdetail == null || tblzsltransportdetail.IsTransient()) return;
            tblzsltransportdetail.tblZslCustomer = null;
            tblzsltransportdetail.tblZslPlatformBookingOrder = null;
            tblzsltransportdetail.tblZslWorker = null;
            if (!doNotCallDeleteForThis) Delete<DSS2_SynchromodalityCapacityOptimisation.BO.tblZslTransportDetail>(tblzsltransportdetail, isCascaded);
        }
        public void DeletetblZslTransportEvent(DSS2_SynchromodalityCapacityOptimisation.BO.tblZslTransportEvent tblzsltransportevent, bool doNotCallDeleteForThis = false, bool isCascaded = false, object calledBy = null)
        {
            if(tblzsltransportevent == null || tblzsltransportevent.IsTransient()) return;
            tblzsltransportevent.tblZslCustomer = null;
            tblzsltransportevent.tblZslWorker = null;
            if (!doNotCallDeleteForThis) Delete<DSS2_SynchromodalityCapacityOptimisation.BO.tblZslTransportEvent>(tblzsltransportevent, isCascaded);
        }
        public void DeletetblZslTransportExecutionPlan(DSS2_SynchromodalityCapacityOptimisation.BO.tblZslTransportExecutionPlan tblzsltransportexecutionplan, bool doNotCallDeleteForThis = false, bool isCascaded = false, object calledBy = null)
        {
            if(tblzsltransportexecutionplan == null || tblzsltransportexecutionplan.IsTransient()) return;
            tblzsltransportexecutionplan.tblZslPlatformBookingOrder = null;
            tblzsltransportexecutionplan.tblZslCarrier = null;
            tblzsltransportexecutionplan.tblZslDeliveryStatus = null;
            if (!doNotCallDeleteForThis) Delete<DSS2_SynchromodalityCapacityOptimisation.BO.tblZslTransportExecutionPlan>(tblzsltransportexecutionplan, isCascaded);
        }
        public void DeletetblZslTransportOrder(DSS2_SynchromodalityCapacityOptimisation.BO.tblZslTransportOrder tblzsltransportorder, bool doNotCallDeleteForThis = false, bool isCascaded = false, object calledBy = null)
        {
            if(tblzsltransportorder == null || tblzsltransportorder.IsTransient()) return;
            tblzsltransportorder.tblZslCustomer = null;
            foreach (var toDissasociate in this.Get<DSS2_SynchromodalityCapacityOptimisation.BO.tblZslPlatformBookingOrder>(ap=> ap.tblZslTransportOrder == tblzsltransportorder))
            {
                toDissasociate.tblZslTransportOrder = null;
            }
            tblzsltransportorder.TransportOrder = null;
            foreach (var toDissasociate in this.Get<DSS2_SynchromodalityCapacityOptimisation.BO.tblZslTransportOrder>(ap=> ap.TransportOrder == tblzsltransportorder))
            {
                toDissasociate.TransportOrder = null;
            }
            if (!doNotCallDeleteForThis) Delete<DSS2_SynchromodalityCapacityOptimisation.BO.tblZslTransportOrder>(tblzsltransportorder, isCascaded);
        }
        public void DeletetblZslWorker(DSS2_SynchromodalityCapacityOptimisation.BO.tblZslWorker tblzslworker, bool doNotCallDeleteForThis = false, bool isCascaded = false, object calledBy = null)
        {
            if(tblzslworker == null || tblzslworker.IsTransient()) return;
            foreach (var toDissasociate in this.Get<DSS2_SynchromodalityCapacityOptimisation.BO.tblZslTransportDetail>(ap=> ap.tblZslWorker == tblzslworker))
            {
                toDissasociate.tblZslWorker = null;
            }
            foreach (var toDissasociate in this.Get<DSS2_SynchromodalityCapacityOptimisation.BO.tblZslTransportEvent>(ap=> ap.tblZslWorker == tblzslworker))
            {
                toDissasociate.tblZslWorker = null;
            }
            tblzslworker.Worker = null;
            foreach (var toDissasociate in this.Get<DSS2_SynchromodalityCapacityOptimisation.BO.tblZslWorker>(ap=> ap.Worker == tblzslworker))
            {
                toDissasociate.Worker = null;
            }
            if (!doNotCallDeleteForThis) Delete<DSS2_SynchromodalityCapacityOptimisation.BO.tblZslWorker>(tblzslworker, isCascaded);
        }
        public void DeleteTimeCosts(DSS2_SynchromodalityCapacityOptimisation.BO.TimeCosts timecosts, bool doNotCallDeleteForThis = false, bool isCascaded = false, object calledBy = null)
        {
            if(timecosts == null || timecosts.IsTransient()) return;
            foreach (var toDissasociate in this.Get<DSS2_SynchromodalityCapacityOptimisation.BO.Vehicule>(ap=> ap.TimeCosts == timecosts))
            {
                toDissasociate.TimeCosts = null;
            }
            if (!doNotCallDeleteForThis) Delete<DSS2_SynchromodalityCapacityOptimisation.BO.TimeCosts>(timecosts, isCascaded);
        }
        public void DeleteTransportUnCap(DSS2_SynchromodalityCapacityOptimisation.BO.TransportUnCap transportuncap, bool doNotCallDeleteForThis = false, bool isCascaded = false, object calledBy = null)
        {
            if(transportuncap == null || transportuncap.IsTransient()) return;
            transportuncap.Warehouse = null;
            foreach (var toDissasociate in this.Get<DSS2_SynchromodalityCapacityOptimisation.BO.Agreement>(ap=> ap.TransportUnCaps.Contains(transportuncap)))
            {
                toDissasociate.RemoveTransportUnCaps(transportuncap);
            }
            if (!doNotCallDeleteForThis) Delete<DSS2_SynchromodalityCapacityOptimisation.BO.TransportUnCap>(transportuncap, isCascaded);
        }
        public void DeleteTruck(DSS2_SynchromodalityCapacityOptimisation.BO.Truck truck, bool doNotCallDeleteForThis = false, bool isCascaded = false, object calledBy = null)
        {
            if(truck == null || truck.IsTransient()) return;
            truck.RegionalAgent = null;
            truck.CurrentLocation = null;
            truck.TruckDriver = null;
            if (!doNotCallDeleteForThis) Delete<DSS2_SynchromodalityCapacityOptimisation.BO.Truck>(truck, isCascaded);
        }
        public void DeleteTruckDriver(DSS2_SynchromodalityCapacityOptimisation.BO.TruckDriver truckdriver, bool doNotCallDeleteForThis = false, bool isCascaded = false, object calledBy = null)
        {
            if(truckdriver == null || truckdriver.IsTransient()) return;
            foreach (var toDelete in truckdriver.Logins)
            {
                truckdriver.RemoveLogins(toDelete);
                DeleteApplicationUserLogin(toDelete, false, isCascaded);
            }
            foreach (var toDissasociate in truckdriver.ProofOfDelivery)
            {
                truckdriver.RemoveProofOfDelivery(toDissasociate);
            }
            foreach (var toDelete in truckdriver.Claims)
            {
                truckdriver.RemoveClaims(toDelete);
                DeleteApplicationUserClaim(toDelete, false, isCascaded);
            }
            truckdriver.Truck = null;
            foreach (var toDelete in truckdriver.Clients)
            {
                truckdriver.RemoveClients(toDelete);
                DeleteApplicationClient(toDelete, false, isCascaded);
            }
            foreach (var toDissasociate in truckdriver.Permissions)
            {
                truckdriver.RemovePermissions(toDissasociate);
            }
            if (truckdriver.Profile != null)
            {
                var toDelete = truckdriver.Profile;
                truckdriver.Profile = null;
                DeleteProfile(toDelete, false, isCascaded, truckdriver);
            }
            foreach (var toDissasociate in truckdriver.Roles)
            {
                truckdriver.RemoveRoles(toDissasociate);
            }
            if (!doNotCallDeleteForThis) Delete<DSS2_SynchromodalityCapacityOptimisation.BO.TruckDriver>(truckdriver, isCascaded);
        }
        public void DeleteUnitsKPI(DSS2_SynchromodalityCapacityOptimisation.BO.UnitsKPI unitskpi, bool doNotCallDeleteForThis = false, bool isCascaded = false, object calledBy = null)
        {
            if(unitskpi == null || unitskpi.IsTransient()) return;
            if (!doNotCallDeleteForThis) Delete<DSS2_SynchromodalityCapacityOptimisation.BO.UnitsKPI>(unitskpi, isCascaded);
        }
        public void DeleteVehicule(DSS2_SynchromodalityCapacityOptimisation.BO.Vehicule vehicule, bool doNotCallDeleteForThis = false, bool isCascaded = false, object calledBy = null)
        {
            if(vehicule == null || vehicule.IsTransient()) return;
            vehicule.OwnershipCost = null;
            vehicule.DistanceCosts = null;
            vehicule.AmortizationType1 = null;
            vehicule.TimeCosts = null;
            foreach (var toDissasociate in this.Get<DSS2_SynchromodalityCapacityOptimisation.BO.Shipment>(ap=> ap.VehiculeType == vehicule))
            {
                toDissasociate.VehiculeType = null;
            }
            if (!doNotCallDeleteForThis) Delete<DSS2_SynchromodalityCapacityOptimisation.BO.Vehicule>(vehicule, isCascaded);
        }
        public void DeleteVolume(DSS2_SynchromodalityCapacityOptimisation.BO.Volume volume, bool doNotCallDeleteForThis = false, bool isCascaded = false, object calledBy = null)
        {
            if(volume == null || volume.IsTransient()) return;
            volume.Supplier = null;
            if (!doNotCallDeleteForThis) Delete<DSS2_SynchromodalityCapacityOptimisation.BO.Volume>(volume, isCascaded);
        }
        public void DeleteVolumeComponent(DSS2_SynchromodalityCapacityOptimisation.BO.VolumeComponent volumecomponent, bool doNotCallDeleteForThis = false, bool isCascaded = false, object calledBy = null)
        {
            if(volumecomponent == null || volumecomponent.IsTransient()) return;
            foreach (var toDissasociate in this.Get<DSS2_SynchromodalityCapacityOptimisation.BO.VolumeComposition>(ap=> ap.VolumeComponent == volumecomponent))
            {
                toDissasociate.VolumeComponent = null;
            }
            if (!doNotCallDeleteForThis) Delete<DSS2_SynchromodalityCapacityOptimisation.BO.VolumeComponent>(volumecomponent, isCascaded);
        }
        public void DeleteVolumeComposition(DSS2_SynchromodalityCapacityOptimisation.BO.VolumeComposition volumecomposition, bool doNotCallDeleteForThis = false, bool isCascaded = false, object calledBy = null)
        {
            if(volumecomposition == null || volumecomposition.IsTransient()) return;
            volumecomposition.VolumeComponent = null;
            foreach (var toDissasociate in this.Get<DSS2_SynchromodalityCapacityOptimisation.BO.CustomVolume>(ap=> ap.VolumeComposition.Contains(volumecomposition)))
            {
                toDissasociate.RemoveVolumeComposition(volumecomposition);
            }
            if (!doNotCallDeleteForThis) Delete<DSS2_SynchromodalityCapacityOptimisation.BO.VolumeComposition>(volumecomposition, isCascaded);
        }
        public void DeleteVolumePerShipper(DSS2_SynchromodalityCapacityOptimisation.BO.VolumePerShipper volumepershipper, bool doNotCallDeleteForThis = false, bool isCascaded = false, object calledBy = null)
        {
            if(volumepershipper == null || volumepershipper.IsTransient()) return;
            if (!doNotCallDeleteForThis) Delete<DSS2_SynchromodalityCapacityOptimisation.BO.VolumePerShipper>(volumepershipper, isCascaded);
        }
        public void DeleteWarehouse(DSS2_SynchromodalityCapacityOptimisation.BO.Warehouse warehouse, bool doNotCallDeleteForThis = false, bool isCascaded = false, object calledBy = null)
        {
            if(warehouse == null || warehouse.IsTransient()) return;
            foreach (var toDissasociate in this.Get<DSS2_SynchromodalityCapacityOptimisation.BO.OrderForecastStatistic>(ap=> ap.Warehouse == warehouse))
            {
                toDissasociate.Warehouse = null;
            }
            if (warehouse.GeoCoordinates != null)
            {
                var cs = new System.Data.ConstraintException("warehouse.GeoCoordinates is restricted and cannot be deleted");
                cs.Data["Entity"] = "Warehouse";
                cs.Data["PropertyName"] = "GeoCoordinates";
                cs.Data["Multiplicity"] = "0..1";
                throw cs;
            }
            foreach (var toDissasociate in this.Get<DSS2_SynchromodalityCapacityOptimisation.BO.OrderForecastDetails>(ap=> ap.Warehouse == warehouse))
            {
                toDissasociate.Warehouse = null;
            }
            foreach (var toDissasociate in warehouse.PastOrders)
            {
                warehouse.RemovePastOrders(toDissasociate);
            }
            foreach (var toDissasociate in this.Get<DSS2_SynchromodalityCapacityOptimisation.BO.Sales>(ap=> ap.Warehouse == warehouse))
            {
                toDissasociate.Warehouse = null;
            }
            foreach (var toDissasociate in this.Get<DSS2_SynchromodalityCapacityOptimisation.BO.Statistics>(ap=> ap.Warehouse == warehouse))
            {
                toDissasociate.Warehouse = null;
            }
            foreach (var toDissasociate in this.Get<DSS2_SynchromodalityCapacityOptimisation.BO.SLALeadTime>(ap=> ap.Warehouse == warehouse))
            {
                toDissasociate.Warehouse = null;
            }
            foreach (var toDissasociate in this.Get<DSS2_SynchromodalityCapacityOptimisation.BO.InventoryItem>(ap=> ap.Warehouse == warehouse))
            {
                toDissasociate.Warehouse = null;
            }
            foreach (var toDissasociate in this.Get<DSS2_SynchromodalityCapacityOptimisation.BO.SLADelivery>(ap=> ap.Warehouse == warehouse))
            {
                toDissasociate.Warehouse = null;
            }
            if (warehouse.RegionalAgentsService.Count > 0)
            {
                var cs = new System.Data.ConstraintException("warehouse.RegionalAgentsService elements are restricted and cannot be deleted");
                cs.Data["Entity"] = "Warehouse";
                cs.Data["PropertyName"] = "RegionalAgentsService";
                cs.Data["Multiplicity"] = "*";
                throw cs;
            }
            foreach (var toDissasociate in this.Get<DSS2_SynchromodalityCapacityOptimisation.BO.Platform>(ap=> ap.Warehouse == warehouse))
            {
                toDissasociate.Warehouse = null;
            }
            foreach (var toDissasociate in this.Get<DSS2_SynchromodalityCapacityOptimisation.BO.DeliverySchedule>(ap=> ap.Warehouse == warehouse))
            {
                toDissasociate.Warehouse = null;
            }
            foreach (var toDissasociate in this.Get<DSS2_SynchromodalityCapacityOptimisation.BO.Stats>(ap=> ap.Warehouse == warehouse))
            {
                toDissasociate.Warehouse = null;
            }
            foreach (var toDissasociate in this.Get<DSS2_SynchromodalityCapacityOptimisation.BO.Agreement>(ap=> ap.Warehouses.Contains(warehouse)))
            {
                toDissasociate.RemoveWarehouses(warehouse);
            }
            foreach (var toDissasociate in this.Get<DSS2_SynchromodalityCapacityOptimisation.BO.StockOnHand>(ap=> ap.Warehouse == warehouse))
            {
                toDissasociate.Warehouse = null;
            }
            foreach (var toDissasociate in this.Get<DSS2_SynchromodalityCapacityOptimisation.BO.Notification>(ap=> ap.Warehouse == warehouse))
            {
                toDissasociate.Warehouse = null;
            }
            foreach (var toDissasociate in this.Get<DSS2_SynchromodalityCapacityOptimisation.BO.TransportUnCap>(ap=> ap.Warehouse == warehouse))
            {
                toDissasociate.Warehouse = null;
            }
            if (!doNotCallDeleteForThis) Delete<DSS2_SynchromodalityCapacityOptimisation.BO.Warehouse>(warehouse, isCascaded);
        }
        public void DeleteWasteOld(DSS2_SynchromodalityCapacityOptimisation.BO.WasteOld wasteold, bool doNotCallDeleteForThis = false, bool isCascaded = false, object calledBy = null)
        {
            if(wasteold == null || wasteold.IsTransient()) return;
            wasteold.Item = null;
            if (!doNotCallDeleteForThis) Delete<DSS2_SynchromodalityCapacityOptimisation.BO.WasteOld>(wasteold, isCascaded);
        }
        public void DeleteWorkContract(DSS2_SynchromodalityCapacityOptimisation.BO.WorkContract workcontract, bool doNotCallDeleteForThis = false, bool isCascaded = false, object calledBy = null)
        {
            if(workcontract == null || workcontract.IsTransient()) return;
            foreach (var toDelete in workcontract.ScheduledRoutes)
            {
                workcontract.RemoveScheduledRoutes(toDelete);
                DeleteScheduledRoute(toDelete, false, isCascaded);
            }
            workcontract.RegionalAgent = null;
            workcontract.LSP = null;
            if (!doNotCallDeleteForThis) Delete<DSS2_SynchromodalityCapacityOptimisation.BO.WorkContract>(workcontract, isCascaded);
        }
        public void DeleteWorkflowContextBase(zAppDev.DotNet.Framework.Workflow.WorkflowContextBase workflowcontextbase, bool doNotCallDeleteForThis = false, bool isCascaded = false, object calledBy = null)
        {
            if(workflowcontextbase == null || workflowcontextbase.IsTransient()) return;
            if (!doNotCallDeleteForThis) Delete<zAppDev.DotNet.Framework.Workflow.WorkflowContextBase>(workflowcontextbase, isCascaded);
        }
        public void DeleteWorkflowSchedule(zAppDev.DotNet.Framework.Workflow.WorkflowSchedule workflowschedule, bool doNotCallDeleteForThis = false, bool isCascaded = false, object calledBy = null)
        {
            if(workflowschedule == null || workflowschedule.IsTransient()) return;
            if (!doNotCallDeleteForThis) Delete<zAppDev.DotNet.Framework.Workflow.WorkflowSchedule>(workflowschedule, isCascaded);
        }
        public void DeleteWorkflowSockContext(DSS2_SynchromodalityCapacityOptimisation.BO.WorkflowSockContext workflowsockcontext, bool doNotCallDeleteForThis = false, bool isCascaded = false, object calledBy = null)
        {
            if(workflowsockcontext == null || workflowsockcontext.IsTransient()) return;
            if (!doNotCallDeleteForThis) Delete<DSS2_SynchromodalityCapacityOptimisation.BO.WorkflowSockContext>(workflowsockcontext, isCascaded);
        }


        #endregion

        #region Generic Data Retrieval
        public T GetById<T>(object id, bool throwIfNotFound = true) where T : class
        {
            SetCurrentActionTo(RepositoryAction.GET);
            var obj = _currentSession.Get<T>(id);

            if(throwIfNotFound && obj == null)
            {
                throw new ApplicationException($"No {typeof(T).Name} was found with key: {id}.");
            }

            if (!CanReadInstance(obj))
            {
                if (throwIfNotFound)
                {
                    throw new ApplicationException($"No Read Access for {typeof(T).Name} instance with key: {id}.");
                }
                else
                {
                    obj = null;
                }
            }

            RestoreLastAction();
            return obj;
        }

        public void SaveWithoutTransaction<T>(T entity) where T : class
        {
            try
            {
                _currentSession.SaveOrUpdate(entity);
            }
            catch (zAppDev.DotNet.Framework.Exceptions.BusinessException e)
            {
                var log = LogManager.GetLogger(typeof(T));
                log.Error("Business Exception", e);
                throw;
            }
            catch (NHibernate.Exceptions.GenericADOException e)
            {
                var log = LogManager.GetLogger(typeof(T));
                log.Error("Error saving", e);
                throw;
            }
            catch (NonUniqueObjectException e)
            {
                var log = LogManager.GetLogger(typeof(T));
                log.Error("Error saving", e);
                throw;
            }
            catch(StaleObjectStateException e)
            {
                var log = LogManager.GetLogger(typeof(T));
                log.Error("Error saving", e);
                throw;
            }
            catch (Exception e)
            {
                var log = LogManager.GetLogger(typeof(T));
                log.Error("Error saving", e);
                _currentSession.Merge(entity);
            }
        }

        public void Save<T>(T entity) where T : class
        {
            SetCurrentActionTo(RepositoryAction.SAVE);

            if (entity == null)
            {
                throw new ArgumentNullException(nameof(entity), "No " + typeof (T).Name + " was specified.");
            }

            SaveWithoutTransaction(entity);
            RestoreLastAction();
        }

        public void Insert<T>(T entity) where T : class
        {
            SetCurrentActionTo(RepositoryAction.INSERT);

            if (entity == null)
            {
                throw new ArgumentNullException(nameof(entity), "No " + typeof(T).Name + " was specified.");
            }

            try
            {
                _currentSession.Save(entity);
            }
            catch (zAppDev.DotNet.Framework.Exceptions.BusinessException e)
            {
                var log = LogManager.GetLogger(typeof(T));
                log.Error("Business Exception", e);
                throw;
            }
            catch (NHibernate.Exceptions.GenericADOException e)
            {
                var log = LogManager.GetLogger(typeof(T));
                log.Error("Error inserting", e);
                throw;
            }
            catch (NonUniqueObjectException e)
            {
                var log = LogManager.GetLogger(typeof(T));
                log.Error("Error inserting", e);
                throw;
            }
            catch (Exception e)
            {
                var log = LogManager.GetLogger(typeof(T));
                log.Error("Error inserting", e);
                _currentSession.Merge(entity);
            }

            RestoreLastAction();
        }

        public void Update<T>(T entity) where T : class
        {
            SetCurrentActionTo(RepositoryAction.UPDATE);
            if (entity == null)
            {
                throw new ArgumentNullException(nameof(entity), "No " + typeof(T).Name + " was specified.");
            }
            _currentSession.Update(entity);
            RestoreLastAction();
        }

        public void Delete<T>(T entity, bool isCascaded = false) where T : class
        {
            SetCurrentActionTo(RepositoryAction.DELETE);

            if (entity == null)
            {
                throw new ArgumentNullException(nameof(entity), "No " + typeof(T).Name + " was specified.");
            }

            // var exists = GetMainQuery<T>().WithOptions(options => options.SetCacheable(true)).Any(a => a == entity);
            // if (!exists)
            // {
            //    RestoreLastAction();
            //    return;
            // }

            try
            {
                _currentSession.Delete(entity);
            }
            catch (Exception e)
            {
                var log = LogManager.GetLogger(typeof (T));
                log.Error("Error deleting", e);
                throw;
            }

            RestoreLastAction();
        }

        public T Merge<T>(T entity) where T : class
        {
            return new ObjectGraphWalker().AssociateGraphWithSession(entity, MiniSessionManager.Instance);
        }

        public List<double> GeAggregates<T>(Expression<Func<T, bool>> predicate,
                                            Dictionary<Expression<Func<T, double>>, string> requestedAggregates)
        {
            var mainQuery = GetMainQuery<T>();
            List<double> aggregateValues = new List<double>();
            if (predicate == null)
            {
                predicate = a => true;
            }
            foreach (var entry in requestedAggregates)
            {
                try
                {
                    switch (entry.Value)
                    {
                    case "SUM":
                        aggregateValues.Add(mainQuery.Where(predicate).Sum(entry.Key));
                        break;
                    case "AVERAGE":
                        aggregateValues.Add(mainQuery.Where(predicate).Average(entry.Key));
                        break;
                    case "COUNT":
                        aggregateValues.Add(mainQuery.Where(predicate).Count());
                        break;
                    }
                }
                catch
                {
                    aggregateValues.Add(0);
                }
            }
            return aggregateValues;
        }

        private static IFutureValue<TResult> ToFutureValue<TSource, TResult>(IQueryable source, Expression<Func<IQueryable<TSource>, TResult>> selector)
        where TResult : struct
        {
            var provider = (DefaultQueryProvider)source.Provider;
            var method = ((MethodCallExpression)selector.Body).Method;
            var expression = Expression.Call(null, method, source.Expression);
            return provider.ExecuteFutureValue<TResult>(expression);
        }

        public List<T> Get<T>(Expression<Func<T, bool>> predicate,
                              int startRowIndex,
                              int pageSize,
                              Dictionary<Expression<Func<T, object>>, bool> orderBy,
                              out int totalRecords, bool cacheQuery = true)
        {
            if (orderBy == null)
            {
                orderBy = new Dictionary<Expression<Func<T, object>>, bool>();
            }
            if (predicate?.Body.NodeType == ExpressionType.Constant
                    && (((ConstantExpression)predicate.Body)).Value != null)
            {
                var val = (bool)(((ConstantExpression)predicate.Body)).Value;
                if (val)
                {
                    predicate = null;
                }
                else
                {
                    totalRecords = 0;
                    return new List<T>();
                }
            }
            var objects = GetMainQuery<T>();
            if (cacheQuery)
            {
                objects = objects.WithOptions(options => options.SetCacheable(true));
            }
            var futureCount = predicate == null
                              ? ToFutureValue<T, int>(objects, x => x.Count())
                              : ToFutureValue<T, int>(objects.Where(predicate), x => x.Count());
            var ordered = (IOrderedQueryable<T>)((predicate == null)
                                                 ? objects
                                                 : objects.Where(predicate));
            if (orderBy.Keys.Count > 0)
            {
                var first = orderBy.First();
                ordered = first.Value
                          ? ordered.OrderBy(first.Key)
                          : ordered.OrderByDescending(first.Key);
                foreach (var pair in orderBy.Skip(1))
                {
                    ordered = pair.Value
                              ? ordered.ThenBy(pair.Key)
                              : ordered.ThenByDescending(pair.Key);
                }
            }
            var paged = ordered.Skip(startRowIndex).Take(pageSize).ToFuture().ToList();
            totalRecords = futureCount.Value;
            return paged;
        }

        public IQueryable<T> GetAsQueryable<T>(Expression<Func<T, bool>> predicate = null, bool cacheQuery = true)
        {
            SetCurrentActionTo(RepositoryAction.GET);
            if (predicate?.Body.NodeType == ExpressionType.Constant
                    && (((ConstantExpression)predicate.Body)).Value != null)
            {
                var val = (bool)(((ConstantExpression)predicate.Body)).Value;
                if (val)
                {
                    predicate = null;
                }
                else
                {
                    // If the predicate returns false then return empty resultset
                    RestoreLastAction();
                    return Enumerable.Empty<T>().AsQueryable();
                }
            }
            var query = GetMainQuery<T>();
            if (predicate != null)
            {
                query = query.Where(predicate);
            }
            if (cacheQuery)
            {
                query = query.WithOptions(options => options.SetCacheable(true));
            }
            RestoreLastAction();
            return query;
        }

        public List<T> Get<T>(Expression<Func<T, bool>> predicate, bool cacheQuery = true)
        {
            var list = GetAsQueryable(predicate, cacheQuery).ToList();
            list = AppendPendingInsertions(predicate, list);
            list = RemovePendingDeletions(predicate, list);
            return list;
        }

        public int? GetCount<T>(Expression<Func<T, bool>> predicate = null, bool cacheQuery = true)
        {
            return GetAsQueryable(predicate, cacheQuery).Count()
                   + GetItemsToAppend(predicate).Count()
                   - GetItemsToRemove(predicate).Count();
        }

        public List<T> GetAll<T>(bool cacheQuery = true)
        {
            return Get<T>(null, cacheQuery);
        }

        public List<T> GetAll<T>(int startRowIndex, int pageSize, out int totalRecords, bool cacheQuery = true)
        {
            SetCurrentActionTo(RepositoryAction.GET);
            var items = GetMainQuery<T>();
            if (cacheQuery)
            {
                items = items.WithOptions(options => options.SetCacheable(true));
            }
            var futureCount = ToFutureValue<T, int>(items, x => x.Count());
            var paged = items.Skip(startRowIndex).Take(pageSize).ToFuture().ToList();
            totalRecords = futureCount.Value;
            RestoreLastAction();
            return paged;
        }

        public IQueryable<T> GetMainQuery<T>()
        {
            return ApplyReadFilter(_currentSession.Query<T>());
        }

        #endregion

        #region Helper Methods
        private static readonly FieldInfo _insertionsFieldInfo = typeof(ActionQueue).GetField("insertions", BindingFlags.NonPublic | BindingFlags.Instance);
        private List<T> AppendPendingInsertions<T>(Expression<Func<T, bool>> predicate, List<T> list = null)
        {
            if (list == null)
            {
                list = new List<T>();
            }
            if (!_sessionManager.WillFlush || !(((NHibernate.Impl.SessionImpl)_currentSession).ActionQueue).AreInsertionsOrDeletionsQueued)
                return list;
            var itemsToAppend = GetItemsToAppend(predicate);
            var items = itemsToAppend.ToList();
            if (!items.Any()) return list;
            if (!items.Any())
            {
                list = items;
            }
            if (list.Count > items.Count)
            {
                list.AddRange(items);
            }
            else
            {
                items.AddRange(list);
                list = items;
            }
            return list;
        }

        private static readonly FieldInfo _deletionsFieldInfo = typeof(ActionQueue).GetField("deletions", BindingFlags.NonPublic | BindingFlags.Instance);
        private List<T> RemovePendingDeletions<T>(Expression<Func<T, bool>> predicate, List<T> list = null)
        {
            if (list == null)
            {
                list = new List<T>();
            }
            if (list.Count == 0)
            {
                return list;
            }
            if (!_sessionManager.WillFlush || !(((NHibernate.Impl.SessionImpl)_currentSession).ActionQueue).AreInsertionsOrDeletionsQueued)
                return list;
            var itemsToRemove = GetItemsToRemove(predicate);
            foreach (var item in itemsToRemove)
            {
                if (list.Contains(item))
                {
                    list.Remove(item);
                }
            }
            return list;
        }

        private IQueryable<T> GetItemsToAppend<T>(Expression<Func<T, bool>> predicate)
        {
            if (_insertionsFieldInfo == null)
            {
                throw new ApplicationException("Could not find `insertions` field in NH Session's Action Queue!");
            }
            var insertions = (List<AbstractEntityInsertAction>)_insertionsFieldInfo.GetValue(((NHibernate.Impl.SessionImpl)_currentSession).ActionQueue);
            var itemsToAppend
                = insertions
                  .Cast<EntityInsertAction>()
                  .Where(a => a.EntityName == typeof(T).FullName)
                  .Select(a => (T)a.Instance)
                  .AsQueryable();
            if (predicate != null)
            {
                itemsToAppend = itemsToAppend.Where(predicate);
            }
            return itemsToAppend;
        }

        private IQueryable<T> GetItemsToRemove<T>(Expression<Func<T, bool>> predicate)
        {
            if (_deletionsFieldInfo == null)
            {
                throw new ApplicationException("Could not find `deletions` field in NH Session's Action Queue!");
            }
            var deletions = (List<EntityDeleteAction>) _deletionsFieldInfo.GetValue(((NHibernate.Impl.SessionImpl) _currentSession).ActionQueue);
            var itemsToRemove
                = deletions
                  .Where(a => a.EntityName == typeof (T).FullName)
                  .Select(a => (T) a.Instance)
                  .AsQueryable();
            if (predicate != null)
            {
                itemsToRemove = itemsToRemove.Where(predicate);
            }
            return itemsToRemove;
        }

        public void Evict(object obj)
        {
            _currentSession.Evict(obj);
        }

        private IQueryable<T> ApplyReadFilter<T>(IQueryable<T> query)
        {
            return query;
        }


        private bool CanReadInstance<T>(T instance)
        {
            if (instance == null) return true;
            var tmpList = new List<T> { instance };
            tmpList = ApplyReadFilter(tmpList.AsQueryable()).ToList();
            return tmpList.Any();
        }

        #endregion
    }
}